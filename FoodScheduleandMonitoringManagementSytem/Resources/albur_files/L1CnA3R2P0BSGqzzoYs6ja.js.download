if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("NullStateNotifications",["cr:3474"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3474")}),98);
__d("CometNoNotifications.react",["fbt","CometContentArea.react","NullStateNotifications","TetraNullState.react","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k=c("requireDeferred")("NoNotificationsFalcoEvent").__setRef("CometNoNotifications.react");function a(a){var b=a.loggingSurface,d=a.userId;j(function(){k.onReady(function(a){a=a.log;return a(function(){return{ref:b,user_id:d}})})},[b,d]);return i.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:i.jsx(c("TetraNullState.react"),{"data-testid":void 0,headline:h._(/*FBT_CALL*/"You have no notifications"/*FBT_CALL*/),icon:c("NullStateNotifications")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometNotificationsInteractionLoggingContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=d("react");var h=b.useMemo,i=b.useRef;c=function(){var a=i(!1),b=h(function(){return{notifsLoadCompleteRef:a}},[a]);return b};e=a.createContext({notifsLoadCompleteRef:{current:!1}});g.useInteractionLoggingRefs=c;g.CometNotificationsInteractionLoggingContext=e}),98);
__d("CometNotificationsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({renderLocation:null});g["default"]=b}),98);
__d("CometNotificationsRenderLocations",[],(function(a,b,c,d,e,f){"use strict";a="dropdown";b="rail";f.DROPDOWN=a;f.RAIL=b}),66);
__d("CometNotificationsScrollHoldingContainer.react",["BaseScrollableAreaContext","HiddenSubtreePassiveContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useLayoutEffect,l=b.useRef;function a(a){var b=i(c("BaseScrollableAreaContext")),d=i(c("HiddenSubtreePassiveContext")),e=l(null),f=l(null),g=l(null),m=l(0),n=b[b.length-1];j(function(){var a=n.getDOMNode();if(a!=null){m.current=a.scrollTop;var b=function(){m.current=a.scrollTop};a.addEventListener("scroll",b,{passive:!0});return function(){a.removeEventListener("scroll",b,{passive:!0})}}},[n]);k(function(){if(e.current!=null&&!d.getCurrentState().hiddenOrBackgrounded_FIXME){var b=e.current.getBoundingClientRect();if(g.current!=null&&f.current!=null){var c=b.height-g.current.height;if(c===0||f.current===a.firstNotificationID){f.current=a.firstNotificationID;g.current=b;return}var h=n.getDOMNode();h!=null&&(h.scrollTop===m.current||g.current==null)&&(h.scrollTop+=c)}f.current=a.firstNotificationID;g.current=b}});return h.jsx("div",{ref:e,children:a.children})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useHandleUpdateMultiNotifReadState",["CometNotificationsMutationLogger","CometNotificationsUpdateSeenStateMutation","recoverableViolation","useGetCancellableSeenStateCallback","useTriggerAccessibilityAlert"],(function(a,b,c,d,e,f,g){"use strict";var h="MAIN_SURFACE";function i(a){var b=a.accessibilityString,e=a.environment,f=a.queryID,g=a.receivedNotificationIdsRef,i=a.timestamp,j=a.triggerAccessibilityAlert;if(g==null||g.current==null)return;d("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(e,{environment:h,input:{environment:h,is_comet:!0,last_notif_sync_time:i,notif_ids:Array.from(g.current),query_id:f,source:"unknown",update_type:"MARK_ALL_READ"}},{mutationLogger:d("CometNotificationsMutationLogger").notificationMarkAllAsReadStart,onError:function(a){c("recoverableViolation")("Update read state (multi) mutation failed with an error: ","Notifications",{error:a})},onSuccess:function(){b!=null&&j!=null&&j(b)},updater:function(a){d("CometNotificationsUpdateSeenStateMutation").updateMultiNotifReadState(a),d("CometNotificationsUpdateSeenStateMutation").clearBadgeCount(a)}})}function a(a){var b=c("useTriggerAccessibilityAlert")();return c("useGetCancellableSeenStateCallback")(babelHelpers["extends"]({},a,{triggerAccessibilityAlert:b,updater:i}))}g["default"]=a}),98);
__d("useHandleUpdateMultiNotifSeenState",["CometNotificationsMutationLogger","CometNotificationsUpdateSeenStateMutation","recoverableViolation","useGetCancellableSeenStateCallback"],(function(a,b,c,d,e,f,g){"use strict";var h="MAIN_SURFACE";function i(a){var b=a.environment,e=a.queryID,f=a.receivedNotificationIdsRef;a=a.timestamp;if(f==null||f.current==null)return;d("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(b,{environment:h,input:{environment:h,is_comet:!0,last_notif_sync_time:a,notif_ids:Array.from(f.current),query_id:e,source:"unknown",update_type:"MARK_ALL_SEEN"}},{mutationLogger:d("CometNotificationsMutationLogger").notificationMarkAllAsSeenStart,onError:function(a){c("recoverableViolation")("Update seen state (multi) mutation failed with an error: ","Notifications",{error:a})},updater:function(a){d("CometNotificationsUpdateSeenStateMutation").updateMultiNotifSeenState(a),d("CometNotificationsUpdateSeenStateMutation").clearBadgeCount(a)}})}function a(a){return c("useGetCancellableSeenStateCallback")(babelHelpers["extends"]({},a,{updater:i}))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometHomepageBadgeCountClearingMutationHelperShortcuts_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"bookmark_render_location",value:"COMET_LEFT_NAV"}];return{argumentDefinitions:[{kind:"RootArgument",name:"bookmarkID"}],kind:"Fragment",metadata:null,name:"CometHomepageBadgeCountClearingMutationHelperShortcuts_viewer",selections:[{alias:null,args:[{items:[{kind:"Variable",name:"bookmark_ids.0",variableName:"bookmarkID"}],kind:"ListValue",name:"bookmark_ids"},{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"folder_id",value:"FAVORITES"},{kind:"Literal",name:"sections",value:["FACEBOOK_APP"]}],concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:"bookmark_unread_count",args:a,kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_LEFT_NAV")'},{alias:"bookmark_unread_count_string",args:a,kind:"ScalarField",name:"unread_count_string",storageKey:'unread_count_string(bookmark_render_location:"COMET_LEFT_NAV")'}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomepageBadgeCountClearingMutationHelper_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"bookmark_render_location",value:"COMET_LEFT_NAV"}];return{argumentDefinitions:[{kind:"RootArgument",name:"bookmarkIDs"},{kind:"RootArgument",name:"hasBookmark"},{kind:"RootArgument",name:"hasTopTab"}],kind:"Fragment",metadata:null,name:"CometHomepageBadgeCountClearingMutationHelper_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"bookmark_ids",variableName:"bookmarkIDs"},{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"folder_id",value:"PRODUCT"},{kind:"Literal",name:"sections",value:["FACEBOOK_APP"]}],concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{condition:"hasBookmark",kind:"Condition",passingValue:!0,selections:[{alias:"bookmark_unread_count",args:a,kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_LEFT_NAV")'}]},{alias:"bookmark_unread_count_string",args:a,kind:"ScalarField",name:"unread_count_string",storageKey:'unread_count_string(bookmark_render_location:"COMET_LEFT_NAV")'},{condition:"hasTopTab",kind:"Condition",passingValue:!0,selections:[{alias:"tab_unread_count",args:[{kind:"Literal",name:"bookmark_render_location",value:"COMET_TOP_TAB"}],kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_TOP_TAB")'}]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomepageBadgeCountClearingMutationHelper",["CometHomeProductBadgedNavigationLogger","CometHomepageBadgeCountClearingMutationHelperShortcuts_viewer.graphql","CometHomepageBadgeCountClearingMutationHelper_viewer.graphql","RelayFBConnectionHandler_UNSTABLE","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("CometHomepageBadgeCountClearingMutationHelper_viewer.graphql");i!==void 0?i:i=b("CometHomepageBadgeCountClearingMutationHelperShortcuts_viewer.graphql");function a(a){var b=a.bookmarkIDs,e=a.hasBookmark,f=a.hasTopTab;a=a.store;if(f===!1&&e===!1)return;var g=a.getRoot();if(!g)return;g=g.getLinkedRecord("viewer");if(!g)return;var h=g.getLinkedRecord("bookmarks",{bookmark_ids:b,environment:"COMET",folder_id:"PRODUCT",sections:["FACEBOOK_APP"]});if(!h&&e){e=g.getLinkedRecord("bookmark_folder",{folder:"PRODUCT"});if(e!=null){a=d("RelayFBConnectionHandler_UNSTABLE").unstable_getAllConnectionsWithKey(a,e,"CometHomeLeftRailWithBlueRankingRefetchSection_bookmarks");a&&a.length>0&&(h=a[0])}}!h&&f&&c("gkx")("2204")&&(h=g.getLinkedRecord("tab_bookmarks",{environment:"COMET",folder_id:"PRODUCT"}));if(!h)return;e=h.getLinkedRecords("edges");if(!e)return;a=null;e.forEach(function(c){var d;c=c==null?void 0:c.getLinkedRecord("node");d=c==null?void 0:(d=c.getLinkedRecord("bookmarked_node"))==null?void 0:d.getValue("id");b.includes(d)&&(a=c)});if(!a)return;a.setValue(0,"unread_count",{bookmark_render_location:"COMET_LEFT_NAV"});a.setValue(null,"unread_count_string",{bookmark_render_location:"COMET_LEFT_NAV"});a.setValue(0,"unread_count",{bookmark_render_location:"COMET_TOP_TAB"})}function e(a,b){var c=b==null?void 0:(b=b.bookmarks)==null?void 0:b.edges;c!=null&&c.length>0&&(a==null?void 0:a.forEach(function(a){var b=c.find(function(b){return(b==null?void 0:(b=b.node)==null?void 0:(b=b.bookmarked_node)==null?void 0:b.id)===a});b=b==null?void 0:b.node;var e=b==null?void 0:b.bookmark_unread_count,f=b==null?void 0:b.bookmark_unread_count_string;b=b==null?void 0:b.tab_unread_count;e===0&&(b==null||b===0)&&f==null?d("CometHomeProductBadgedNavigationLogger").markerEnd(a,2):(e==null?d("CometHomeProductBadgedNavigationLogger").markerAnnotate({string:{bookmark_unread_count:"null"}},a):e>0&&d("CometHomeProductBadgedNavigationLogger").markerAnnotate({"int":{bookmark_unread_count:e}},a),b==null?d("CometHomeProductBadgedNavigationLogger").markerAnnotate({string:{tab_unread_count:"null"}},a):b>0&&d("CometHomeProductBadgedNavigationLogger").markerAnnotate({"int":{tab_unread_count:b}},a),f!=null&&d("CometHomeProductBadgedNavigationLogger").markerAnnotate({string:{bookmark_unread_count_string:f}},a),d("CometHomeProductBadgedNavigationLogger").markerEnd(a,3))}))}g.clearBadgeCount=a;g.onCompleted=e}),98);
__d("FriendingCometMainTabViewLeftRailSettingsMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3061851457252390"}),null);