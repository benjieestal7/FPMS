if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MessengerFriendsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4417446861665587"}),null);
__d("MessengerFriendsQuery.graphql",["MessengerFriendsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"cursor"}],c=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Literal",name:"orderby",value:["communication"]}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"is_memorialized",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"is_viewer_coworker",storageKey:null},j={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},k={alias:null,args:[{kind:"Literal",name:"height",value:32},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:32,width:32)"},l={alias:null,args:null,kind:"ScalarField",name:"is_on_viewer_contact_list",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"is_messenger_user",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"is_work_user",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"viewer_affinity",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"company_title",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerFriendsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"AllFriendsConnection",kind:"LinkedField",name:"all_friends",plural:!1,selections:[{alias:null,args:null,concreteType:"AllFriendsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[d,e,f,g,h,i,j,k,{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"messenger_contact",plural:!1,selections:[l],storageKey:null},m,n,o,p,{alias:null,args:null,concreteType:"ScimCompanyUser",kind:"LinkedField",name:"scim_company_user",plural:!1,selections:[q],storageKey:null},{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:[e],storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerFriendsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"AllFriendsConnection",kind:"LinkedField",name:"all_friends",plural:!1,selections:[{alias:null,args:null,concreteType:"AllFriendsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[d,e,f,g,h,i,j,k,{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"messenger_contact",plural:!1,selections:[l,d],storageKey:null},m,n,o,p,{alias:null,args:null,concreteType:"ScimCompanyUser",kind:"LinkedField",name:"scim_company_user",plural:!1,selections:[q,d],storageKey:null},{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:[e,d],storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[d],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MessengerFriendsQuery_facebookRelayOperation"),metadata:{},name:"MessengerFriendsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("TopMessengerFriendsAndGroupsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4372729622812070"}),null);
__d("TopMessengerFriendsAndGroupsQuery.graphql",["TopMessengerFriendsAndGroupsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"first"},c={defaultValue:!1,kind:"LocalArgument",name:"use_buddylist"},d=[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"orderby",value:["communication"]}],e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"is_memorialized",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"is_viewer_coworker",storageKey:null},k={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},l=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],m={alias:null,args:[{kind:"Literal",name:"height",value:32},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:"profile_picture(height:32,width:32)"},n={alias:null,args:null,kind:"ScalarField",name:"is_on_viewer_contact_list",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"is_messenger_user",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"is_work_user",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"viewer_affinity",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"company_title",storageKey:null},t=[e,f,g,h,i,j,k,m,{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"messenger_contact",plural:!1,selections:[n],storageKey:null},o,p,q,r,{alias:null,args:null,concreteType:"ScimCompanyUser",kind:"LinkedField",name:"scim_company_user",plural:!1,selections:[s],storageKey:null},{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:[f],storageKey:null}],storageKey:null}],u={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null},v=[{kind:"Literal",name:"with_status",value:["OFFLINE"]}],w=[{kind:"Literal",name:"last",value:2},{kind:"Literal",name:"top_group_theads",value:!0}],x={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null};l={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:null};var y={alias:null,args:null,kind:"ScalarField",name:"is_group_thread",storageKey:null},z={kind:"InlineFragment",selections:[p],type:"User",abstractKey:null},A={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};g=[e,f,g,h,i,j,k,m,{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"messenger_contact",plural:!1,selections:[n,e],storageKey:null},o,p,q,r,{alias:null,args:null,concreteType:"ScimCompanyUser",kind:"LinkedField",name:"scim_company_user",plural:!1,selections:[s,e],storageKey:null},{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:[f,e],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"TopMessengerFriendsAndGroupsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"use_buddylist",kind:"Condition",passingValue:!1,selections:[{alias:null,args:d,concreteType:"AllFriendsConnection",kind:"LinkedField",name:"all_friends",plural:!1,selections:[{alias:null,args:null,concreteType:"AllFriendsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:t,type:"User",abstractKey:null}],storageKey:null}],storageKey:null},u],storageKey:null}]},{condition:"use_buddylist",kind:"Condition",passingValue:!0,selections:[{alias:null,args:v,concreteType:"ChatCoefficient",kind:"LinkedField",name:"chat_buddylist",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"represented_profile",plural:!1,selections:t,storageKey:null}],storageKey:'chat_buddylist(with_status:["OFFLINE"])'}]},{alias:null,args:w,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"node",plural:!1,selections:[x,f,l,y,{alias:null,args:null,concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[e,f,z],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"message_threads(last:2,top_group_theads:true)"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"TopMessengerFriendsAndGroupsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"use_buddylist",kind:"Condition",passingValue:!1,selections:[{alias:null,args:d,concreteType:"AllFriendsConnection",kind:"LinkedField",name:"all_friends",plural:!1,selections:[{alias:null,args:null,concreteType:"AllFriendsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[A,{kind:"InlineFragment",selections:g,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[e],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},u],storageKey:null}]},{condition:"use_buddylist",kind:"Condition",passingValue:!0,selections:[{alias:null,args:v,concreteType:"ChatCoefficient",kind:"LinkedField",name:"chat_buddylist",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"represented_profile",plural:!1,selections:g,storageKey:null}],storageKey:'chat_buddylist(with_status:["OFFLINE"])'}]},{alias:null,args:w,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"node",plural:!1,selections:[x,f,l,y,{alias:null,args:null,concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[A,e,f,z],storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:"message_threads(last:2,top_group_theads:true)"}],storageKey:null}]},params:{id:b("TopMessengerFriendsAndGroupsQuery_facebookRelayOperation"),metadata:{},name:"TopMessengerFriendsAndGroupsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MessengerTypeaheadLocalCache",["AsyncRequest","FBLogger","MessengerConfig","MessengerFriendsQuery.graphql","MessengerGraphQLTypeaheadAdapter","SearchSourceCallbackManager","TokenizeUtil","TopMessengerFriendsAndGroupsQuery.graphql","WebGraphQLQueryHelper","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("SearchSourceCallbackManager"))({parseFn:c("TokenizeUtil").parse,matchFn:c("TokenizeUtil").isQueryMatch,indexFn:null}),i=null,j=null,k=null,l=null;function m(){if(c("MessengerConfig").BootstrapTypeaheadFromBuddylist||!k)return;var a=k;k=null;c("promiseDone")(new(c("AsyncRequest"))(d("WebGraphQLQueryHelper").getLegacyQueryURI(c("nullthrows")(c("MessengerFriendsQuery.graphql").params.id),{cursor:a})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(a){h.addLocalEntries(a.viewer.all_friends.edges.map(function(a){return d("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))},function(a){c("FBLogger")("messenger_search").warn("Error while fetching more friends: "+a.errorDescription)})}var n={onEntriesLoaded:function(a){if(i!==null&&j!==null){a(i,j,!1);return}l===null&&(l=n.fetchEntriesFromServer());c("promiseDone")(l,function(){a(i,j,!0),m()},function(a){c("FBLogger")("messenger_search").warn("Error while fetching entries: "+a.errorDescription)})},fetchEntriesFromServer:function(){var a=c("MessengerConfig").BootstrapTypeaheadFromBuddylist;a=d("WebGraphQLQueryHelper").getLegacyQueryURI(c("nullthrows")(c("TopMessengerFriendsAndGroupsQuery.graphql").params.id),{use_buddylist:a,first:100});a=new(c("AsyncRequest"))(a).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){return n.handlePayload(a)});return a},handlePayload:function(a){var b=c("MessengerConfig").BootstrapTypeaheadFromBuddylist,e=(b?a.viewer.chat_buddylist:a.viewer.all_friends.edges).map(function(a){return d("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(b?a.represented_profile:a.node)}).filter(function(a){if(a===null)return!1;a=a.getAuxiliaryData();a=a&&a.isMemorializedUser;return!a}),f=a.viewer.message_threads.edges.map(function(a,b){return d("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,b)}).filter(function(a){return a!==null});h.addLocalEntries(e);h.addLocalEntries(f);i=e;j=f;a.viewer.all_friends&&a.viewer.all_friends.page_info&&a.viewer.all_friends.page_info.has_next_page&&(k=a.viewer.all_friends.page_info.end_cursor)},search:function(a,b){n.onEntriesLoaded(function(){h.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return i!==null&&j!==null}};a=n;g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MessengerGraphQLTypeaheadAdapter",["fbt","MercuryIDs","SearchableEntry"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){return d("MercuryIDs").isValid(a)?a:d("MercuryIDs").getParticipantIDFromUserID(a)}function j(a){var b=a.scim_company_user&&a.scim_company_user.company_title;a=a.is_viewer_coworker?null:a.work_info&&a.work_info.work_community&&a.work_info.work_community.name;if(a&&b)return a+" \u2022 "+b;else if(a)return a;else if(b)return b;return null}function k(a,b){var c=null;a.members&&a.members.edges&&a.members.edges.length>0?c=a.members.edges.map(function(a){return a.node.name}).join(", "):a.is_work_user?c=j(a):b&&a.is_viewer_friend===!1&&(c=b);return c}function a(a,b){var d;if(!a||!a.id||!a.name)return null;var e="non_friend";d=a.is_viewer_coworker||((d=a.work_foreign_entity_info)!=null?d.type:d)==="NOT_FOREIGN";a.is_work_user&&d&&(e="fb4c");return new(c("SearchableEntry"))({uniqueID:a.id,title:a.name,type:e,subtitle:b,photo:a.profile_picture&&a.profile_picture.uri,auxiliaryData:{isWorkUser:a.is_work_user,workForeignEntityInfo:a.work_foreign_entity_info},order:-a.viewer_affinity})}function b(a,b){var d,e;if(!a||!a.id||!a.name)return null;var f="non_friend";e=a.is_viewer_coworker||((e=a.work_foreign_entity_info)!=null?e.type:e)==="NOT_FOREIGN";d=((d=a.work_foreign_entity_info)!=null?d.type:d)==="LIMITED";a.is_work_user&&d?f="guest":a.is_work_user&&e?f="fb4c":(a.is_viewer_friend||a.messenger_contact.is_on_viewer_contact_list||e&&a.viewer_affinity>0)&&(f="friend");d=k(a,b);return new(c("SearchableEntry"))({uniqueID:a.id,title:a.name,type:f,subtitle:d,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMemorializedUser:a.is_memorialized,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified,isActiveAccount:a.work_info&&a.work_info.is_active_account,workForeignEntityInfo:a.work_foreign_entity_info,alias:a.username},order:-a.viewer_affinity})}function e(a){return new(c("SearchableEntry"))({uniqueID:a.id,title:a.name,type:"friend",subtitle:"Instagram",photo:a.profile_picture&&a.profile_picture.uri,uri:null,auxiliaryData:{},order:0})}function f(a,b){if(!a||!a.id||!a.name)return null;return a.instant_game_info?l(a,b):new(c("SearchableEntry"))({uniqueID:a.id,title:a.name,type:b,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,canViewerMessage:a.can_viewer_message,isVerified:a.is_verified,canViewerAddToGroupChat:a.can_viewer_add_to_group_chat},order:0})}function l(a,b){return!a||!a.id||!a.name||!a.instant_game_info?null:new(c("SearchableEntry"))({uniqueID:a.id,title:a.name,type:"game",photo:a.instant_game_info&&a.instant_game_info.icon_uri,uri:a.instant_game_info&&a.instant_game_info.game_uri,order:0})}function m(a){var b,d;b=a==null?void 0:(b=a.message_thread)==null?void 0:b.thread;d=a==null?void 0:(d=a.matched_message)==null?void 0:d.message;var e=a==null?void 0:a.thread_id,f=a==null?void 0:a.matched_message;a=Number(a==null?void 0:(a=a.message_thread)==null?void 0:a.approx_count);if(b==null||d==null||e==null||f==null||a==null)return null;var g="message:"+e,j=d.snippet,k=h._(/*FBT_CALL*/"{number of messages} matched messages"/*FBT_CALL*/,[h._param("number of messages",a)]);k=a>1?k:j;j=d.timestamp;typeof j==="number"&&a===1?j*=1e3:j=void 0;a=a==1?(d=f)!=null?(d=d.search_result_context)!=null?d.match_ranges:d:d:null;f={matchRanges:a,timestamp:j,thread_id:e,messageResultType:"1on1Conversation"};d="";a=null;if(b.image!==void 0){b.thread_name&&(d=b.thread_name);b.image&&(a=b.image.uri);if(b.all_participants&&b.all_participants.nodes&&b.all_participants.count){if(d==""){j=b.all_participants.count;var l=b.all_participants.nodes.map(function(a){return a.messaging_actor.name}).filter(Boolean);d=q(!0,l,j)}l=b.all_participants.nodes.map(function(a){a=i(a.messaging_actor.id);return{id:a}});f=babelHelpers["extends"]({},f,{messageResultType:"groupConversation",participantsToRender:l,thread:{thread_id:e,image_src:a,participants:l.map(function(a){return a.id})}})}}else if(b.all_participants&&b.all_participants.nodes[0]&&b.all_participants.nodes[0].messaging_actor){j=b.all_participants.nodes[0].messaging_actor;j.name&&(d=j.name);j.profile_picture&&(a=j.profile_picture.uri);typeof j.is_memorialized==="boolean"&&(f.isMemorializedUser=j.is_memorialized);typeof j.is_messenger_user==="boolean"&&(f.isMessengerUser=j.is_messenger_user);typeof j.is_work_user==="boolean"&&(f.isWorkUser=j.is_work_user);typeof j.is_verified==="boolean"&&(j.__typename==="User"||j.__typename==="Page"?f.isVerified=j.is_verified:f.isVerified=!1);typeof j.username==="string"&&(f.alias=j.username);j.work_foreign_entity_info&&(f.workForeignEntityInfo=j.work_foreign_entity_info)}return new(c("SearchableEntry"))({uniqueID:g,title:d,subtitle:k,type:"message",photo:a,uri:null,order:0,auxiliaryData:f})}function n(a,b){var d;if(!a||!a.thread_key||!a.is_group_thread)return null;var e=a.thread_key.thread_fbid;if(!e)return null;var f=a.image&&a.image.uri;d=a==null?void 0:(d=a.other_participants)==null?void 0:d.edges;if(d==null)return null;d=d.map(function(a){return a.node.messaging_actor.name});d=q(!1,d,a.other_participants.count);var g=a.name,h=null;!g?g=d:h=d;if(!g)return null;d={thread:{thread_id:e,other_user_fbid:null,image_src:f,participants:a.other_participants.edges.map(function(a){return i(a.node.messaging_actor.id)})},participantsToRender:a.other_participants.edges.map(function(a){return{id:i(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}})};return new(c("SearchableEntry"))({uniqueID:e,order:b,photo:f,title:g,subtitle:h,type:"thread",auxiliaryData:d})}function o(a,b,d){var e,f;if(!a||!a.thread_key)return null;e=a==null?void 0:(e=a.thread_key)==null?void 0:e.thread_fbid;if(!e)return null;var g=a.image&&a.image.uri;f=a==null?void 0:(f=a.all_participants)==null?void 0:f.edges;if(f==null)return null;f=f.filter(function(a){return a.node.id!==d});var h=f.map(function(a){return a.node.messaging_actor.name});h=q(!0,h,a.all_participants.count);a=a.thread_name;var j=null;!a?a=h:j=h;if(!a)return null;h={thread:{thread_id:e,other_user_fbid:null,image_src:g,participants:f.map(function(a){return i(a.node.messaging_actor.id)})},participantsToRender:f.map(function(a){return{id:i(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}})};return new(c("SearchableEntry"))({uniqueID:e,order:b,photo:g,title:a,subtitle:j,type:"thread",auxiliaryData:h})}function p(a,b){if(!Array.isArray(a))return[];a=[].concat(a).filter(function(a){var c=a.length;a=a.offset;if(typeof c!=="number"||typeof a!=="number")return;return c>0&&a>=0&&a+c<=b.length}).sort(function(a,b){return a.offset-b.offset});var c=[];a.forEach(function(a,b){if(b!=0){b=c[c.length-1];b=b.offset+b.length;if(a.offset<b)return}c.push(a)});return c}function q(a,b,c,d){d===void 0&&(d=3);if(a===null||c==null)return b.join(", ");var e=1;a||(c+=e);var f=b.length<=d;a=a&&b.length===c;if(f&&a)return b.slice(0,-1).join(", ");f=b.slice(0,d);a=c-e-f.length;return a<1?f.join(", "):h._(/*FBT_CALL*/"{name of the first n participants} and {number of other participants} more"/*FBT_CALL*/,[h._param("name of the first n participants",f.join(", ")),h._param("number of other participants",a)])}g.convertWorkChatProfileToEntry=a;g.convertProfileToEntry=b;g.convertIGMessagingUserToEntry=e;g.convertPageToEntry=f;g.convertGameToEntry=l;g.convertMessageToEntry=m;g.convertGroupToEntry=n;g.convertMSQGroupToEntry=o;g.getValidatedMatchesRanges=p;g.getParticipantsText=q}),98);/*FB_PKG_DELIM*/
__d("MessageThreadAssociatedObjectUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&a.room_type==="GROUP"&&!a.is_workplace_community}function b(a){return a&&a.room_type==="GROUP"&&!a.is_workplace_community}f.shouldRender=a;f.isLinkedToGroupChat=b}),66);
__d("MessengerAdminGroupUtils",["fbt","CurrentUser","MercuryConfig","MercuryIDs","MessageRequestUtils","MessageThreadAssociatedObjectUtils","QE2Logger","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h="messenger_use_new_group_participant_suggestion_ranking",i="show_nullstate_chat_tab_group_chat",j={isJoinableAndOpenThread:function(a){return j.isJoinableThread(a)&&j.isApprovalOpenThread(a)},isJoinableAndApprovalRequiredThread:function(a){return!!(j.isJoinableThread(a)&&a&&a.approval_mode===1)},isWorkSyncedGroupChat:function(a){return!!(a==null?void 0:a.work_associated_group)},isWorkFroup:function(a){return!!(b("gkx")("678597")&&a&&a.is_thread_queue_enabled===!0&&a.joinable_mode&&a.joinable_mode.mode===1&&b("MessageThreadAssociatedObjectUtils").isLinkedToGroupChat(a.associated_object))},isWorkSyncedChatThreadCreationMessage:function(a){return!!(a.log_message_data&&a.log_message_data.name!=null&&a.tags&&(a.tags.indexOf("source:work:groupchat:creation")!==-1||a.tags.indexOf("source:work:defaultgroupchat:creation")!==-1))},isWorkSyncedChatThreadMemberSyncMessage:function(a){return!!(a.tags&&a.tags.indexOf("source:work:groupchat:member_sync")!==-1)},shouldAddToApprovalQueue:function(a,b){return!!(j.isJoinableAndApprovalRequiredThread(a)&&a&&!j.isAdmin(a.admins,b))},isJoinableThread:function(a){return!!(b("gkx")("678598")&&a&&a.is_thread_queue_enabled===!0&&a.joinable_mode&&a.joinable_mode.mode===1)},isGroupChat:function(a){return!!(a&&b("MessageThreadAssociatedObjectUtils").isLinkedToGroupChat(a.associated_object))},shouldInvite:function(a){return!!(b("gkx")("678598")&&a&&a.participant_add_mode==="INVITE")},isApprovalOpenThread:function(a){return!!((b("CurrentUser").isWorkUser()||b("gkx")("678598"))&&a&&a.approval_mode===0)},isAdminRequired:function(a){return!!(a&&a.admin_model_status==="required")},isOwner:function(a,b){return a&&(j.isJoinableThread(b)||j.isAdminRequired(b))},canSeeJoinableGroupOptions:function(a,c){var d=b("CurrentUser").isWorkUser(),e=j.showJoinableApprovalToggle(a,c);c=j.showApprovalQueue(a,c);return!d&&j.isJoinableThread(a)&&(c||e)},canSeeGroupOptionsSection:function(a,c){c=j.isAdmin(a.admins,c);var d=b("MessageRequestUtils").isMessageRequest(a);return c&&j.isAdminRequired(a)&&!d},canSeeBotsInGroupTypeahead:function(){return b("CurrentUser").isWorkUser()},canMakeOthersAdmins:function(a,b,c){return j.isOwner(a,c)&&!b},canMakeSelfAdmin:function(a,b){return(j.isJoinableThread(b)||j.isAdminRequired(b))&&Object.keys(b.admins).length===0&&a},canRemoveAdmin:function(a,b,c,d){if(j.isAdminRequired(d)&&Object.keys(d.admins).length===1)return!1;switch(c){case 2:return!1;default:return j.isOwner(a,d)&&b}},canRemoveFromGroup:function(a,b,c){switch(b){case 2:return!1;default:return j.isAdminRequired(c)||j.isWorkFroup(c)?a:j.isOwner(a,c)||!j.isJoinableThread(c)}},showGroupOptionsSection:function(a){return a.group_thread_subtype!==14},showJoinableApprovalToggle:function(a,b){if(a.associated_object&&!a.associated_object.approval_mode_toggleable)return!1;b=j.isAdmin(a.admins,b);return j.isOwner(b,a)},showApprovalQueue:function(a,b){b=j.isAdmin(a.admins,b);b=j.isOwner(b,a);var c=j.getPendingRequestNumber(a);if(a&&j.isAdminRequired(a))return j.isAdminRequired(a)&&b&&c>0;else{a=j.isJoinableAndApprovalRequiredThread(a);return a&&b&&c>0}},showParticipantsModal:function(a,b,c){return j.isJoinableThread(c)&&!a&&!b},useNewGroupMemberSuggestionRanking:function(){b("QE2Logger").logExposureForUser(h);return b("MercuryConfig").MNGPS},showDefaultListForNewPersonAddChatTab:function(){b("QE2Logger").logExposureForUser(i);return b("MercuryConfig").ChatGroupChat},showDefaultListForNewChatTab:function(){return b("MercuryConfig").ChatComposer},canUpdateThreadCustomization:function(a,c){var d=j.isJoinableThread(a);c=j.isAdmin(a.admins,c);var e=b("MessageRequestUtils").isMessageRequest(a);return a.is_subscribed&&!e&&(!d||c)},canUpdateThreadDescription:function(a,c){var d=j.isJoinableThread(a);c=j.isAdmin(a.admins,c);var e=j.isWorkSyncedGroupChat(a);if(e)return c;e=b("MessageRequestUtils").isMessageRequest(a);return a.is_subscribed&&!e&&(!d||c)},isAdmin:function(a,c){if(!a)return!1;if(b("MercuryIDs").isValid(c)){var d=b("MercuryIDs").getUserIDFromParticipantID(c);return d!=null&&a[d]!==void 0}return a[c]!==void 0},getLeaveGroupBodyText:function(a,b){a=j.isOwner(a,b);var c=j.isWorkSyncedGroupChat(b);return!c?a?g._(/*FBT_CALL*/"Leaving this group will remove you as an owner and allow other members to manage the group. You will no longer be able to send or receive new messages."/*FBT_CALL*/):g._(/*FBT_CALL*/"You will stop receiving messages from this conversation and people will see that you left."/*FBT_CALL*/):a?b.participants.length===1?g._(/*FBT_CALL*/"Are you sure you want to leave this group? As you're the last member, leaving now will also delete this group."/*FBT_CALL*/):g._(/*FBT_CALL*/"Leaving this group will remove you as an owner and allow other members to manage the chat thread. You will no longer be able to send or receive new messages. You will also be removed from the group."/*FBT_CALL*/):g._(/*FBT_CALL*/"You will stop receiving messages from this conversation and people will see that you left. You will also be removed from the group."/*FBT_CALL*/)},getLeaveGroupTitleText:function(a,b){return j.isWorkSyncedGroupChat(b)?b.participants.length===1?g._(/*FBT_CALL*/"Delete group and chat?"/*FBT_CALL*/):g._(/*FBT_CALL*/"Leave group and chat?"/*FBT_CALL*/):j.isOwner(a,b)?g._(/*FBT_CALL*/"Leave this conversation?"/*FBT_CALL*/):g._(/*FBT_CALL*/"Leave conversation?"/*FBT_CALL*/)},getLeaveGroupButtonText:function(a,b){return j.isOwner(a,b)?b.participants.length===1?g._(/*FBT_CALL*/"Leave and delete"/*FBT_CALL*/):g._(/*FBT_CALL*/"Leave conversation"/*FBT_CALL*/):g._(/*FBT_CALL*/"Leave"/*FBT_CALL*/)},getMakeOwnerBodyText:function(a,b,c){if(a)return b?g._(/*FBT_CALL*/"As a group admin, you will be able to manage who can join and customize this conversation."/*FBT_CALL*/):g._(/*FBT_CALL*/"As a group admin, \"{owner's name}\" will be able to manage who can join and customize this conversation."/*FBT_CALL*/,[g._param("owner's name",c)]);else return b?g._(/*FBT_CALL*/"As a group owner, you will be able to manage group ownership and remove members from the conversation. Only owners will be able to add other owners."/*FBT_CALL*/):g._(/*FBT_CALL*/"As a group owner, \"{owner's name}\" will be able to manage group ownership and remove members from the conversation. They will be able to remove ownership from other owners."/*FBT_CALL*/,[g._param("owner's name",c)])},getMakeOwnerTitleText:function(a,b){if(a)return b?g._(/*FBT_CALL*/"Become group admin?"/*FBT_CALL*/):g._(/*FBT_CALL*/"Add group admin?"/*FBT_CALL*/);else return b?g._(/*FBT_CALL*/"Become group owner?"/*FBT_CALL*/):g._(/*FBT_CALL*/"Add group owner?"/*FBT_CALL*/)},getMakeOwnerButtonText:function(a,b){if(a)return b?g._(/*FBT_CALL*/"Become admin"/*FBT_CALL*/):g._(/*FBT_CALL*/"Make admin"/*FBT_CALL*/);else return b?g._(/*FBT_CALL*/"Become owner"/*FBT_CALL*/):g._(/*FBT_CALL*/"Make owner"/*FBT_CALL*/)},getRemoveOwnerBodyText:function(a,b,c,d){if(b&&c)return a?null:g._(/*FBT_CALL*/"You will no longer manage group ownership and remove members from this conversation. You will still be a participant in the group. Any other member will be able to own the group."/*FBT_CALL*/);else if(b&&!c)return a?g._(/*FBT_CALL*/"You will no longer be able to manage who can join and customize this conversation."/*FBT_CALL*/):g._(/*FBT_CALL*/"You will no longer manage group ownership and remove members from this conversation. You will still be a participant in the group."/*FBT_CALL*/);else return a?g._(/*FBT_CALL*/"\"{owner's name}\" will no longer be able to manage who can join and customize this conversation."/*FBT_CALL*/,[g._param("owner's name",d)]):g._(/*FBT_CALL*/"\"{owner's name}\" will no longer manage group ownership and remove members from the conversation. They will still be a participant in the group."/*FBT_CALL*/,[g._param("owner's name",d)])},getRemoveOwnerTitleText:function(a){return a?g._(/*FBT_CALL*/"Remove as group admin?"/*FBT_CALL*/):g._(/*FBT_CALL*/"Remove as group owner?"/*FBT_CALL*/)},getRemoveOwnerButtonText:function(a){return a?g._(/*FBT_CALL*/"Remove"/*FBT_CALL*/):g._(/*FBT_CALL*/"Remove owner"/*FBT_CALL*/)},getPendingRequestNumber:function(a){if(a&&a.approval_queue_ids&&a.approval_queue_ids.length)return a.approval_queue_ids.length;else if(a&&j.isAdminRequired(a)&&a.group_approval_queue&&a.group_approval_queue.length)return a.group_approval_queue.length;return 0}};e.exports=j}),null);/*FB_PKG_DELIM*/
__d("CometNewsfeedKeyCommandWidget",["createKeyCommandWidget"],(function(a,b,c,d,e,f,g){"use strict";a=c("createKeyCommandWidget")();g["default"]=a}),98);
__d("CometContentNotAvailable.react",["fbt","CometContentArea.react","NullStateGeneral","TetraNullState.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"k4urcfbm taijpn5t bkyfam09 j83agx80 bp9cbjyn",children:i.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:i.jsx(c("TetraNullState.react"),{headline:h._(/*FBT_CALL*/"Sorry, this content isn't available right now"/*FBT_CALL*/),icon:c("NullStateGeneral")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometPageLayoutWithComplementaryContent.react",["BaseRow.react","BaseRowItem.react","CometMediaViewerFullscreenContext","CometRouteRenderType","CometScrollView.react","MWChatOnMediaVisibilityOverrideContext","gkx","react","stylex","useMWIsCurrentRouteMediaViewerExperiment","useShouldShowMessagingEntrypointOnCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=c("gkx")("708253"),k=c("gkx")("1217157"),l=c("gkx")("2820"),m={chatSliver:{backgroundColor:"cwj9ozl2",boxShadow:"r28pvxcy",display:"j83agx80",height:"bkyfam09",top:"be9z9djy",width:"etr7akla",zIndex:"tkr6xdv7","@media (max-width: 899px)":{display:"hlyrhctz"}},container:{height:"bipmatt0",maxHeight:"qowsmv63",overflowX:"ni8dbmo4",overflowY:"stjgntxs","@media (max-width: 900px)":{flexDirection:"by9hw1fw"}},containerFullScreenInPushView:{minHeight:"h3gjbzrl"},containerInPushView:{minHeight:"sn7ne77z"},containerNotInPushView:{minHeight:"jgljxmt5"},contentAreaInPushView:{height:"nznu9b0o","@media (max-width: 900px)":{height:"q4kn84j7"}},contentAreaInPushViewUsesParentHeight:{height:"datstx6m","@media (max-width: 900px)":{height:"q4kn84j7"}},contentAreaNotInPushView:{height:"bkyfam09","@media (max-width: 900px)":{height:"q4kn84j7"}},defaultBackground:{backgroundColor:"hybvsw6c"},rightRail:{height:"bipmatt0",maxHeight:"nwf6jgls","@media (max-width: 900px)":{maxWidth:"dzul8kyi",minHeight:"s8zgqcqk"}},rightRailFixed:{backgroundColor:"hybvsw6c",maxHeight:"gitj76qy",minHeight:"dp1hu0rb","@media (max-width: 900px)":{maxHeight:"kelwmyms",maxWidth:"dzul8kyi",minHeight:"e69mrdg2"}},rightRailInner:{backgroundColor:"hybvsw6c",height:"bipmatt0",maxWidth:"rirtxc74",minWidth:"nnvw5wor","@media (max-width: 900px)":{minWidth:"jkusjiy0"}},rightRailOuter:{height:"datstx6m",maxHeight:"gitj76qy","@media (max-width: 900px)":{height:"ric4tfvp",maxHeight:"mq76vbym"}},rightRailOuterNoMaxHeight:{height:"datstx6m","@media (max-width: 900px)":{height:"ric4tfvp",maxHeight:"mq76vbym"}},shadowBar:{backgroundColor:"hybvsw6c",borderBottom:"ao6pnu53",minHeight:"gmxl693r",position:"lpgh02oy",top:"kr520xx4",zIndex:"tkr6xdv7"},shadowBarContentAreaResponsiveness:{display:"mkhogb32","@media (max-width: 900px)":{display:"au7jv34o"}},shadowBarRightRailResponsiveness:{"@media (max-width: 900px)":{display:"ahb00how"}}};function a(a){var b=a.children;b=b===void 0?null:b;var e=a.hideContainerBackground;e=e===void 0?!1:e;var f=a.isRightRailFixed;f=f===void 0?!1:f;var g=a.rightRail;g=g===void 0?null:g;var n=a.showChatSliverOverride;n=n===void 0?!0:n;var o=a.showShadowBar;o=o===void 0?!0:o;a=a.useParentHeight;a=a===void 0?!1:a;var p=d("CometRouteRenderType").useIsPushView(),q=c("useShouldShowMessagingEntrypointOnCurrentRoute")("CHAT")&&j,r=c("useMWIsCurrentRouteMediaViewerExperiment")();r=d("MWChatOnMediaVisibilityOverrideContext").useMWChatOnMediaVisibilityOverride(r);var s=i(c("CometMediaViewerFullscreenContext"));n=n&&q&&r;return h.jsxs(c("BaseRow.react"),{align:"start",xstyle:[m.container,!e&&m.defaultBackground,s&&p&&m.containerFullScreenInPushView,!s&&(p||a)&&m.containerInPushView,!p&&!a&&m.containerNotInPushView],children:[p&&!k&&!l?h.jsx("div",{className:c("stylex")(o&&m.shadowBar,o&&m.shadowBarContentAreaResponsiveness)}):null,h.jsx(c("BaseRowItem.react"),{expanding:!0,role:"main",xstyle:a?m.contentAreaInPushViewUsesParentHeight:p?m.contentAreaInPushView:m.contentAreaNotInPushView,children:b}),g!=null&&!s&&h.jsxs(c("BaseRowItem.react"),{role:"complementary",xstyle:f?m.rightRailFixed:m.rightRail,children:[p&&!k&&!l?h.jsx("div",{className:c("stylex")(o&&m.shadowBar,o&&m.shadowBarRightRailResponsiveness)}):null,h.jsxs(c("BaseRow.react"),{xstyle:a?m.rightRailOuterNoMaxHeight:m.rightRailOuter,children:[h.jsx(c("BaseRowItem.react"),{xstyle:m.rightRailInner,children:f?h.jsx(c("CometScrollView.react"),{"data-testid":void 0,showsHorizontalScrollIndicator:!1,children:g}):g}),n?h.jsx("div",{className:c("stylex")(m.chatSliver)}):null]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatDeleteMessageEventEmitter",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h="deleteMessage",i=new(c("BaseEventEmitter"))();function a(a){i.emit(h,a)}function b(a){var b=i.addListener(h,a);return function(){return b.remove()}}g.emit=a;g.subscribe=b}),98);/*FB_PKG_DELIM*/
__d("MessengerComposeViewHeader.react",["cx","fbt","ImmutableObject","MessengerButtonReact.re","MessengerDotComAndInboxM4Check.bs","MessengerGraphQLTokenizer.react","MessengerTabIndices","clearImmediate","gkx","immutable","joinClasses","prop-types","react","setImmediate"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=320;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state={tokenizerContext:null,excludeGroups:!1,excludePages:!1,forGroup:!1},d.$1=null,d.$2=function(){d.$1=c("setImmediate")(function(){d.refs.tokenizer&&d.refs.tokenizer.focusInput()})},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.componentDidMount=function(){this.$2(),this.setState({tokenizerContext:this.refs.tokenizerContext})};e.componentDidUpdate=function(a){this.props.recipients!==a.recipients&&this.props.onResize()};e.UNSAFE_componentWillReceiveProps=function(a){a.recipients!==this.props.recipients&&(a.recipients.size===0?this.setState({excludeGroups:!1,excludePages:!1,forGroup:!1}):a.isWorkUser?this.setState({excludeGroups:!0,excludePages:!1,forGroup:!0}):this.setState({excludeGroups:!0,excludePages:!0,forGroup:!0}))};e.componentWillUnmount=function(){this.$1&&c("clearImmediate")(this.$1)};e.render=function(){var a={enableMessageSearch:!1,hasHoverState:!0,originalEntryIDs:c("immutable").Set(),scrollableViewClassName:"_2y8_",shouldQueryInternalBot:!0,shouldQueryVCEndpoint:!1,width:k,customResultFilterFn:this.props.isWorkUser?function(a){return a.getAuxiliaryData().isWorkUser===!0&&a.getAuxiliaryData().isActiveAccount===!1?!1:!0}:function(){return!0}};return j.jsxs("div",{className:c("joinClasses")("_2y8y"+(d("MessengerDotComAndInboxM4Check.bs").yes?" _6zw0":"")+" _5l-3",this.props.className),onClick:this.$2,role:"presentation",children:[j.jsx("div",{className:"_2y8z",ref:c("gkx")("678607")?"tokenizerContext":"",children:i._(/*FBT_CALL*/"To:"/*FBT_CALL*/)}),j.jsxs("div",{className:"_66s6",children:[j.jsx(c("MessengerGraphQLTokenizer.react"),babelHelpers["extends"]({autoFocus:!0,className:"_2y8-",context:this.state.tokenizerContext,entries:this.props.recipients,excludeGroups:this.props.excludeGroups||this.state.excludeGroups,excludePages:this.props.excludePages||this.state.excludePages,forGroup:this.state.forGroup,forceHideClearButton:this.props.forceHideClearButton,onAddEntryAttempt:this.props.onAddRecipient,onClear:this.props.onClear,onRemoveEntryAttempt:this.props.onRemoveRecipient,placeholder:i._(/*FBT_CALL*/"Type the name of a person or group"/*FBT_CALL*/),ref:"tokenizer",tabIndex:this.props.tabIndex==null?c("MessengerTabIndices").NEW_MESSAGE_TOKENIZER:this.props.tabIndex,useLayer:!0,viewer:this.props.viewer},a)),c("gkx")("678607")?null:j.jsx("div",{ref:"tokenizerContext"})]}),this.$3()]})};e.$3=function(){return this.props.shouldShowCreateGroupButton?j.jsx(d("MessengerButtonReact.re").make,{className:"_6wh5",label:i._(/*FBT_CALL*/"Create new chat"/*FBT_CALL*/),dataTestID:"create_new_chat_button",onClick:this.props.onCreateGroupButtonClicked,role:"button",tabIndex:0,type:"primary"}):null};return b}(j.PureComponent);a.propTypes={forceHideClearButton:c("prop-types").bool.isRequired,onAddRecipient:c("prop-types").func.isRequired,onClear:c("prop-types").func,onRemoveRecipient:c("prop-types").func.isRequired,onResize:c("prop-types").func.isRequired,recipients:c("prop-types").instanceOf(c("immutable").List).isRequired,thread:c("prop-types").instanceOf(c("ImmutableObject")),viewer:c("prop-types").string.isRequired,isWorkUser:c("prop-types").bool.isRequired,shouldShowCreateGroupButton:c("prop-types").bool,onCreateGroupButtonClicked:c("prop-types").func,excludePages:c("prop-types").bool,excludeGroups:c("prop-types").bool,tabIndex:c("prop-types").number};a.defaultProps={shouldShowCreateGroupButton:!1,isWorkUser:!1,excludeGroups:!1,excludePages:!1};g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MessengerTypeaheadUtils",["fbt","ix","MessengerEnvironment","ReactDOM","SearchableEntry","gkx","immutable","mapObject","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=500,l=100,m="__special_search_entry__",n=["search","friend","fb4c","message","thread","meeting_room_page","internal_bot_page","non_friend","page","game"],o=["search","friend","fb4c","message","thread","meeting_room_page","internal_bot_page","page","non_friend","game"],p=(j={},j.search={header:""},j.friend={header:h._(/*FBT_CALL*/"Contacts"/*FBT_CALL*/)},j.fb4c={header:h._(/*FBT_CALL*/"Coworkers"/*FBT_CALL*/)},j.message={header:h._(/*FBT_CALL*/"Messages"/*FBT_CALL*/)},j.thread={header:h._(/*FBT_CALL*/"Group conversations"/*FBT_CALL*/)},j.page={header:h._(/*FBT_CALL*/"Businesses"/*FBT_CALL*/)},j.meeting_room_page={header:h._(/*FBT_CALL*/"Meeting rooms"/*FBT_CALL*/)},j.internal_bot_page={header:h._(/*FBT_CALL*/"Bots"/*FBT_CALL*/)},j.non_friend={header:h._(/*FBT_CALL*/"More people"/*FBT_CALL*/)},j.game={header:h._(/*FBT_CALL*/"Games"/*FBT_CALL*/)},j);function a(a,b){var d=[],e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[];a.forEach(function(a){switch(a.getType()){case"friend":e.push(a);break;case"fb4c":f.push(a);break;case"guest":g.push(a);break;case"message":h.push(a);break;case"thread":i.push(a);break;case"page":case"commerce_page":k.push(a);break;case"non_friend":j.push(a);break;case"meeting_room_page":l.push(a);break;case"internal_bot_page":m.push(a);break;case"search":d.push(a);break;case"game":n.push(a);break}});if(c("qex")._("1999")){b=c("qex")._("2000");a=b===2||b===3?k.slice(0,b):k;return d.concat(e,f,g,h,i,l,m,a,j,n)}return d.concat(e,f,g,h,i,l,m,j,k,n)}function b(a){var b=[],c=[],d=[],e=[];a.forEach(function(a){switch(a.getType()){case"friend":b.push(a);break;case"fb4c":c.push(a);break;case"thread":d.push(a);break;case"non_friend":e.push(a);break}});return b.concat(c,d,e)}function e(a,b){var c=[],d=[],e=[];a.forEach(function(a){if(a.getUniqueID()===b)return;switch(a.getType()){case"friend":c.push(a);break;case"fb4c":d.push(a);break;case"non_friend":e.push(a);break}});return c.concat(d,e)}function q(a,b){if(b==null)if(c("qex")._("1999"))return o;else return n;else return b}function f(a,b){var c=[];q(b).filter(function(a){return a!=="search"}).concat("search").forEach(function(b){return c.push.apply(c,a.filter(function(a){return u(a.getType(),b)}))});return c}function r(a){return c("immutable").OrderedMap([[[""],a]])}function s(a,b,d){if(!a.length)return c("immutable").OrderedMap();b=q(b,d);var e=c("mapObject")(p,function(a){return babelHelpers["extends"]({},a,{entries:[]})});e.commerce_page=e.page;a.forEach(function(a){var b=a.getType();e[b]&&e[b].entries.push(a)});return c("immutable").OrderedMap(b.filter(function(a){return e[a].entries.length}).map(function(a){return[[e[a].header,a],e[a].entries]}))}function t(a,b){var c;return c={},c[a]=b,c}function u(a,b){return a==="commerce_page"?b==="commerce_page"||b==="page":a===b}function v(a,b){var c=d("ReactDOM").findDOMNode(b),e=b.getScrollTop(),f=a.offsetTop-e;c=c.offsetHeight-a.offsetHeight;a=Math.abs(c-f);f>=c&&a<=l?b.scrollToPosition(e+f-c,!0,{duration:k}):f<0&&a<=c+l&&b.scrollToPosition(e+f,!0,{duration:k})}function w(a){return c("gkx")("860320")||!c("MessengerEnvironment").messengerui||a.length<2?null:new(c("SearchableEntry"))({uniqueID:m,title:h._(/*FBT_CALL*/"Search messages for \"{queryString}\""/*FBT_CALL*/,[h._param("queryString",a)]),photo:i("465522"),type:"search"})}function x(a){return a.getUniqueID()===m}g.sortEntries=a;g.sortEntriesWithoutPages=b;g.sortEntriesWithoutGroupsOrViewer=e;g.getEntryOrder=q;g.orderEntries=f;g.buildSingleSection=r;g.buildListSections=s;g.buildCustomSection=t;g.areSectionsEqual=u;g.scrollEntryIntoView=v;g.getMessageSearchEntry=w;g.isMessageSearchEntry=x}),98);/*FB_PKG_DELIM*/
__d("MWChatBusinessMessengerExtensionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3570507202990274"}),null);
__d("MWChatBusinessMessengerExtensionQuery.graphql",["MWChatBusinessMessengerExtensionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID"}],c=[{kind:"Variable",name:"id",variableName:"pageID"}],d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},e={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatBusinessMessengerExtensionQuery",selections:[{alias:null,args:c,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[d,e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatBusinessMessengerExtensionQuery",selections:[{alias:null,args:c,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[d,e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MWChatBusinessMessengerExtensionQuery_facebookRelayOperation"),metadata:{},name:"MWChatBusinessMessengerExtensionQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatConstants",[],(function(a,b,c,d,e,f){"use strict";a={HEIGHT:604,WIDTH:405};f.BROWSER_EXTENSIONS_DIALOG_DIMENSIONS=a}),66);
__d("MWChatBusinessMessengerExtension.react",["CometCardedDialogLegacy.react","CometImageIcon_DEPRECATED.react","MWChatBusinessMessengerExtensionIframe.react","MWChatBusinessMessengerExtensionQuery.graphql","MWChatConstants","RelayHooks","TetraTextPairing.react","URI","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.actionLink,f=a.onClose,g=a.pageID;a=babelHelpers.objectWithoutPropertiesLoose(a,["actionLink","onClose","pageID"]);var j=d("RelayHooks").useLazyLoadQuery(h!==void 0?h:h=b("MWChatBusinessMessengerExtensionQuery.graphql"),{pageID:g});g=babelHelpers["extends"]({closeDialogHandler:f,height:d("MWChatConstants").BROWSER_EXTENSIONS_DIALOG_DIMENSIONS.HEIGHT,pageID:g,thirdPartyURI:new(c("URI"))(e),width:d("MWChatConstants").BROWSER_EXTENSIONS_DIALOG_DIMENSIONS.WIDTH},a);a=i.jsxs("div",{className:"datstx6m btwxx1t3 j83agx80",children:[i.jsx("div",{className:"t51semre j83agx80 bp9cbjyn",children:i.jsx(c("CometImageIcon_DEPRECATED.react"),{size:40,src:(j==null?void 0:(e=j.page)==null?void 0:(a=e.profile_picture)==null?void 0:a.uri)||"",style:"circle"})}),i.jsx("div",{className:"k4urcfbm a8nywdso qt6c0cv9 rz4wbd8a jb3vyjys cdv8y374 taijpn5t j83agx80 bp9cbjyn",children:i.jsx(c("TetraTextPairing.react"),{headline:j==null?void 0:(e=j.page)==null?void 0:e.name,headlineLineLimit:1,level:2,textAlign:"center"})})]});return i.jsx(c("CometCardedDialogLegacy.react"),{header:a,onClose:f,size:"content",withCloseButton:!0,children:i.jsx(c("MWChatBusinessMessengerExtensionIframe.react"),babelHelpers["extends"]({},g))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MercuryThreadImageReact.bs",["MercuryThreadImage.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("MercuryThreadImage.react"),{size:b("bs_js_null_undefined").fromOption(a),thread:c,useBackground:b("bs_js_null_undefined").fromOption(d),viewer:e},f)}f.make=a}),null);
__d("OptionType.bs",["bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(a!==void 0)if(c!==void 0)return b("bs_curry")._2(d,b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return!1;else return c===void 0}function c(a,c){if(a!==void 0)if(c!==void 0)return b("bs_caml_option").valFromOption(a)===b("bs_caml_option").valFromOption(c);else return!1;else return c===void 0}f.equals=a;f.equalsReference=c}),null);
__d("MessengerThreadImageReact.bs",["cx","MercuryIDs","MercuryThreadImageReact.bs","MessengerProfileImageWrapperReact.bs","OptionType.bs","ReasonReact.bs","WorkForeignEntityInfo.bs","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a,c){var d=a.other_user_fbid,e=c.size;a=b("MercuryIDs").isCanonical(a.thread_id);if(d==null)return!1;if(!a)return!1;if(e===0)return!1;a=b("MercuryIDs").getParticipantIDFromUserID(d);e=c.get(a);if(!(e==null)&&!(e==null))return e.is_messenger_user;else return!1}function a(a){var c=a.className,d=a.isPresenceForWork,e=a.isDoNotDisturb,f=a.useRectBorder,g=a.showBadge,h=a.size,k=a.participants,l=a.thread;a=a.viewer;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?g:!1;var m=!b("WorkForeignEntityInfo.bs").areAllCoworkers(k);e=m?void 0:e?b("bs_caml_option").some(i.jsx("div",{className:"_466z"})):d?b("bs_caml_option").some(i.jsx("div",{className:"_4670"})):void 0;d={useRectBorder:f,isMessengerUser:j(l,k),isMultiCompany:m,showBadge:g&&b("MercuryIDs").isCanonical(l.thread_id)||m,children:b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadImageReact.bs").make(h,l,!0,a,[]))};e!==void 0&&(d.customBadge=b("bs_caml_option").valFromOption(e));f=b("bs_caml_option").nullable_to_opt(l.solid_color);f!==void 0&&(d.threadColor=b("bs_caml_option").valFromOption(f));k=b("bs_caml_option").nullable_to_opt(l.thread_type);k!==void 0&&(d.threadType=b("bs_caml_option").valFromOption(k));h!==void 0&&(d.size=b("bs_caml_option").valFromOption(h));return i.jsx("div",{className:c,children:i.createElement(b("MessengerProfileImageWrapperReact.bs").make,d)})}var k=i.memo(a,function(a,c){if(a.className===c.className&&a.showBadge===c.showBadge&&b("OptionType.bs").equalsReference(a.size,c.size)&&j(a.thread,a.participants)===j(c.thread,c.participants)&&b("WorkForeignEntityInfo.bs").areAllCoworkers(a.participants)===b("WorkForeignEntityInfo.bs").areAllCoworkers(c.participants)&&a.isPresenceForWork===c.isPresenceForWork&&a.isDoNotDisturb===c.isDoNotDisturb&&a.useRectBorder===c.useRectBorder&&a.thread===c.thread)return a.viewer===c.viewer;else return!1});function c(a){var c={participants:a.participants,thread:a.thread,viewer:a.viewer};a.className!==void 0&&(c.className=b("bs_caml_option").valFromOption(a.className));a.isPresenceForWork!==void 0&&(c.isPresenceForWork=b("bs_caml_option").valFromOption(a.isPresenceForWork));a.isDoNotDisturb!==void 0&&(c.isDoNotDisturb=b("bs_caml_option").valFromOption(a.isDoNotDisturb));a.useRectBorder!==void 0&&(c.useRectBorder=b("bs_caml_option").valFromOption(a.useRectBorder));a.showBadge!==void 0&&(c.showBadge=b("bs_caml_option").valFromOption(a.showBadge));a.size!==void 0&&(c.size=b("bs_caml_option").valFromOption(a.size));return i.createElement(k,c)}f.getIsMessengerUser=j;f.make=k;f.jsComponent=c}),null);/*FB_PKG_DELIM*/
__d("LazyWorkMultiCompanyChatTooltip.react",["JSResource","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResource")("WorkMultiCompanyChatTooltip.react").__setRef("LazyWorkMultiCompanyChatTooltip.react"));function a(a){return h.jsx(h.Suspense,{fallback:a.children,children:h.jsx(i,{children:a.children})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerProfileImageWrapperReact.bs",["cssVar","cx","CurrentUser","LazyWorkMultiCompanyChatTooltip.react","MessagingThreadType","MessengerDotComAndInboxM4Check.bs","TooltipData","bs_caml_option","getViewportDimensions","gkx","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.ariaHidden,d=a.customBadge,e=a.useRectBorder,f=a.isMessengerUser,g=a.isPartiesUser,h=a.threadColor,i=a.threadType,k=a.tooltipContent,l=a.size,m=a.isMultiCompany,n=a.className,o=a.showBadge;a=a.children;n=n!==void 0?n:"";var p=function(a){if(d!==void 0)return j.jsx("div",{className:"_4ld_ _2pom",children:j.jsx("div",{className:"_2pon _67in",children:b("bs_caml_option").valFromOption(d)})});if(f===void 0&&g===void 0&&m===void 0)return null;if(!o)return null;if(g!==void 0)if(b("CurrentUser").isWorkUser())return null;else return j.jsx("div",{className:"_4ld_ _2pom",children:j.jsx("div",{className:"_2pon _2poo"})});if(m===void 0)if(b("CurrentUser").isWorkUser())return null;else return j.jsx("div",{className:"_4ld_ _2pom",children:j.jsx("div",{className:"_2pon"+(f?" _2poo":"")+(f?"":" _2pop")})});if(!b("CurrentUser").isWorkUser())return null;a=l!==void 0?l>45:!1;return j.jsx("div",{className:"_4ld_ _2pom"+(a?"":" _91qq"),children:j.jsx(b("LazyWorkMultiCompanyChatTooltip.react"),{children:j.jsx("div",{className:(m&&!a?"_4rwy":"")+(m&&a?" _2zb5":"")})})})},q=l!==void 0?""+l+"px":"auto";i=i!==void 0?i===b("MessagingThreadType").ROOM:!1;var r;if(k!==void 0)if(k==="")r={};else{var s=b("getViewportDimensions")().width,t=parseInt("700px".replace("px",""),10);s=s<=t?"above":"left";r=Object.assign({},b("TooltipData").propsFor(k,s))}else r={};t=k!==void 0&&k!==""?0:void 0;s=i?{background:h!==void 0?h:"#0084ff",height:q,width:q}:{height:q,width:q};k=e!==void 0&&e?!0:!1;return j.cloneElement(j.jsxs("div",{"aria-hidden":c,className:b("joinClasses")("_4ldz",n),style:{height:q,width:q},children:[j.jsx("div",{className:(k?"":"_4ld-")+(k?" _94ns":"")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7q1r":"")+(b("gkx")("1425119")?" _93x9":"")+(i?" _180i":""),style:s,tabIndex:t,children:a}),p(void 0)]}),r)}c=a;d=a;f.make=c;f.jsComponent=d}),null);/*FB_PKG_DELIM*/
__d("XMessengerExtensionUriControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_extension_url/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWChatBusinessMessengerExtensionIframe.react",["BrowserExtensionsDesktopCoordinator","BrowserExtensionsTypedLogger","ConstUriUtils","ControlledRefererIFrame.react","SecureMessageListener","SecurePostMessage","XMessengerExtensionUriControllerRouteBuilder","isFacebookURI","isMessengerDotComURI","isWorkplaceDotComURI","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=a.closeDialogHandler,e=a.height,f=a.pageID,g=a.thirdPartyURI,k=a.threadID,l=a.userID;a=a.width;var m=j(null),n=d("ConstUriUtils").getUri(window.location.href);i(function(){var a=new(c("BrowserExtensionsTypedLogger"))().setWebsiteURL(g.toString()).setStartURL(g.toString()).setStringPageID(f).setThreadID(k);m.current&&(d("BrowserExtensionsDesktopCoordinator").setActiveBridge(m.current,g,f,k,l,b),a.setName("browser_extensions_browser_open").log());return function(){a.setName("browser_extensions_browser_closed").log()}},[b,f,g,k,l]);i(function(){var a=function(a){var e=d("ConstUriUtils").getUri(a.origin);if(e){if(!c("isWorkplaceDotComURI")(e)&&!c("isMessengerDotComURI")(e)&&!c("isFacebookURI")(e))return}else return;if(a.data==="iframe ready"){e=m.current;if(e==null)return;e=e instanceof HTMLIFrameElement?e.contentWindow:(a=e.frame)==null?void 0:a.contentWindow;if(e==null)return;d("SecurePostMessage").sendMessageForCurrentOrigin(e,{thirdPartyURI:g.addQueryData("fb_iframe_origin",n==null?void 0:n.getOrigin()).toString()});b.stopListening()}},b=new(c("SecureMessageListener"))(window);b.setEventHandler(a);b.beginListening();return function(){b.stopListening()}},[g,n]);var o="messenger_ref";n&&(c("isWorkplaceDotComURI")(n)&&(o="workplace_ref"),c("isFacebookURI")(n)&&(o="facebook_ref"));var p=c("XMessengerExtensionUriControllerRouteBuilder").buildURL({height:e.toString(),pageID:f.toString(),url:g.toString(),userID:l.toString(),width:a.toString()});o={name:o,ref:m,scrolling:"no",src:p,style:{border:0,height:e,overflowX:"hidden",width:a}};n&&c("isWorkplaceDotComURI")(n)&&(o.src=g.addQueryData("fb_iframe_origin",n==null?void 0:n.getOrigin()).toString(),o.scrolling="yes",o.style.overflowX="auto");return c("isFacebookURI")(g)?h.jsx("iframe",babelHelpers["extends"]({},o)):h.jsx(c("ControlledRefererIFrame.react"),babelHelpers["extends"]({},o))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MessengerBootloadedSecondarySearchLogger",["Bootloader","MessengerSecondarySearchFunnelConstants","gkx"],(function(a,b,c,d,e,f){"use strict";var g=[],h="",i={LOCAL_CONTACTS:[],ORDERED_GCF_FRIENDLIST:[],SHORT_PROFILES:[],SUGGESTED_RECIPIENTS:[]},j=!1,k=!1;d=(c=b("MessengerSecondarySearchFunnelConstants")).EVENTS;var l=d.CLICK_OTHER_THREAD,m=d.END,n=d.IMPRESSIONS,o=d.START,p=d.QUERY_CHANGED,q=d.RESULT_SELECTED,r=d.SOURCE_ENDED,s=d.SOURCE_STARTED,t=d.TOKEN_REMOVED;f=c.END_ACTIONS;var u=f.ABANDON,v=f.SINGLE_RESULT_SELECTED;d=c.SOURCES;var w=d.SERVER,x=d.SHORT_PROFILES,y=d.SUGGESTED_RECIPIENTS,z=d.LOCAL_CONTACTS,A=d.LOCAL_AND_SERVER,B=d.ORDERED_GCF_FRIENDLIST,C=c.ENTRY_SURFACES.COMPOSER;function D(a){if(i.SUGGESTED_RECIPIENTS.includes(a))return y;else if(i.ORDERED_GCF_FRIENDLIST.includes(a))return B;else if(i.SHORT_PROFILES.includes(a))return x;else if(i.LOCAL_CONTACTS.includes(a))return z;else return w}function a(a){if(!b("gkx")("678592"))return;b("Bootloader").loadModules(["MessengerSecondarySearchFunnelLogger"],function(c){switch(a.name){case o:if(a.surface===C&&k===!0){c.reenterSearch(a.loggingID);break}j=!1;i={LOCAL_CONTACTS:[],ORDERED_GCF_FRIENDLIST:[],SHORT_PROFILES:[],SUGGESTED_RECIPIENTS:[]};c.startFunnel(a.client,a.surface,a.surface,null,a.loggingID);a.surface===C&&(k=!0);break;case m:var d=a.end_reason;a.surface===b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.BROADCAST&&(d=j?v:u);c.endFunnel(b("MessengerSecondarySearchFunnelConstants").END_REASONS.ACTION,d,a.loggingID,a.threadID,a.isNewThread);k=!1;break;case n:d=a.entries.map(function(a){a.data_source=[D(a.result_fbid)];return a});g=a.entries.map(function(a){return a.result_fbid});c.impressions(a.query,d,A,a.loggingID);break;case p:h=a.query;c.queryChanged(a.query,a.loggingID);break;case q:j=!0;d=D(a.id);var e=g.indexOf(a.id);c.resultSelected(a.id,e,a.type,a.query?a.query:h,d,a.surface,a.loggingID,a.selectionType);break;case r:e=!a.query||a.query===h;switch(a.source){case z:i.LOCAL_CONTACTS=a.ids?a.ids:[];break;case y:i.SUGGESTED_RECIPIENTS=a.ids?a.ids:[];break;case x:i.SHORT_PROFILES=a.ids?a.ids:[];e=!0;break;case B:i.ORDERED_GCF_FRIENDLIST=a.ids?a.ids:[];e=!0;break;default:break}c.sourceEnded(a.query,a.numResults,a.source,a.status,e,a.loggingID);break;case s:c.sourceStarted(a.query,a.source,a.loggingID);break;case t:c.tokenRemoved(a.deletedIDs,a.clearedAll,a.loggingID);break;case l:c.unfocusSearch(a.loggingID);break}},"MessengerBootloadedSecondarySearchLogger")}e.exports={logSearchEvent:a}}),null);/*FB_PKG_DELIM*/
__d("TextInputControl",["DOMControl","Event","Input","debounce"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;var d=c.getRoot(),e=b("debounce")(c.update.bind(babelHelpers.assertThisInitialized(c)),0);b("Event").listen(d,{input:e,keydown:e,paste:e});return c}var d=c.prototype;d.setMaxLength=function(a){b("Input").setMaxLength(this.getRoot(),a);return this};d.getValue=function(){return b("Input").getValue(this.getRoot())};d.isEmpty=function(){return b("Input").isEmpty(this.getRoot())};d.setValue=function(a){b("Input").setValue(this.getRoot(),a);this.update();return this};d.clear=function(){return this.setValue("")};d.setPlaceholderText=function(a){b("Input").setPlaceholder(this.getRoot(),a);return this};return c}(b("DOMControl"));e.exports=a}),null);
__d("TextAreaControl",["Arbiter","ArbiterMixin","CSS","DOMControl","Event","Style","TextInputControl","TextMetrics","classWithMixins","mixin"],(function(a,b,c,d,e,f){function g(a,c){return b("Style").getFloat(a,c)||0}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.autogrow=b("CSS").hasClass(c,"uiTextareaAutogrow");d.autogrowWithPlaceholder=b("CSS").hasClass(c,"uiTextareaAutogrowWithPlaceholder");d.width=null;b("Event").listen(c,"focus",d._handleFocus.bind(babelHelpers.assertThisInitialized(d)));return d}var d=c.prototype;d.setAutogrow=function(a){this.autogrow=a;return this};d.onupdate=function(){a.prototype.onupdate.call(this),this.updateHeight()};d.updateHeight=function(){if(this.autogrow){var a=this.getRoot();this.metrics||(this.metrics=new(b("TextMetrics"))(a));typeof this.initialHeight==="undefined"&&(this.isBorderBox=b("Style").get(a,"box-sizing")==="border-box"||b("Style").get(a,"-moz-box-sizing")==="border-box"||b("Style").get(a,"-webkit-box-sizing")==="border-box",this.borderBoxOffset=g(a,"padding-top")+g(a,"padding-bottom")+g(a,"border-top-width")+g(a,"border-bottom-width"),this.initialHeight=a.offsetHeight-this.borderBoxOffset);var c;(!a.value||a.value.length===0)&&this.autogrowWithPlaceholder?c=this.metrics.measure(a.placeholder):c=this.metrics.measure();c=Math.max(this.initialHeight,c.height);this.isBorderBox&&(c+=this.borderBoxOffset);this.maxHeight&&c>this.maxHeight&&(c=this.maxHeight,b("Arbiter").inform("maxHeightExceeded",{textArea:a}));c!==this.height&&(this.height=c,b("Style").set(a,"height",c+"px"),b("Arbiter").inform("reflow"),this.inform("resize"))}else this.metrics&&(this.metrics.destroy(),this.metrics=null)};d.resetHeight=function(){this.height=-1,this.update()};d.setMaxHeight=function(a){this.maxHeight=a};d.setAutogrowWithPlaceholder=function(a){this.autogrowWithPlacedholder=a};d._handleFocus=function(){this.width=null};c.getInstance=function(a){return b("DOMControl").getInstance(a)||new c(a)};return c}(b("classWithMixins")(b("TextInputControl"),b("mixin")(b("ArbiterMixin"))));e.exports=a}),null);/*FB_PKG_DELIM*/
__d("MessengerButtonReact.bs",["cx","Link.react","bs_caml_option","bs_curry","bs_js_null_undefined","joinClasses","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a,c,d){if(a){d.preventDefault();return}else if(c!==void 0)return b("bs_curry")._1(c,d);else return}function k(a){if(a!==void 0)return{color:a}}function l(a,c,d,e,f){c="_3quh _30yy"+(c===0?" _2t_":"")+(c===1?" _2u0":"")+(c===2?" _17u4":"")+(f===1?" _3ay_":"")+(d?" _4zab":"")+(e?" _fy2":"");if(a!==void 0)return b("joinClasses")(c,a);else return c}function a(a){var c=a.ariaLabel,d=a.ariaHidden,e=a.role,f=a.tabIndex,g=a.target,h=a.onClick,m=a.disabled,n=a.className,o=a.color,p=a.customColor,q=a.label,r=a.type,s=a.use,t=a.href,u=a.wrapperClassName;a=a.dataTestID;var v=m!==void 0?m:!1;m=p!==void 0?p:!1;p=s!==void 0?s:0;s=u!==void 0?u:"";u=function(a){return j(v,h,a)};n=l(n,r,v,m,p);r=k(o);if(t!==void 0){m={className:n,href:t,onClick:u,children:q};d!==void 0&&(m["aria-hidden"]=b("bs_caml_option").valFromOption(d));c!==void 0&&(m["aria-label"]=b("bs_caml_option").valFromOption(c));e!==void 0&&(m.role=b("bs_caml_option").valFromOption(e));r!==void 0&&(m.style=b("bs_caml_option").valFromOption(r));f!==void 0&&(m.tabIndex=b("bs_caml_option").valFromOption(f));g!==void 0&&(m.target=b("bs_caml_option").valFromOption(g));return i.jsx(b("Link.react"),m)}p=b("joinClasses")("_30vt",s);o=i.jsx("button",{role:e,tabIndex:f,target:g,"aria-label":c,"aria-hidden":d,onClick:u,className:n,style:r,children:q});t=i.cloneElement(o,{"data-testid":b("bs_js_null_undefined").fromOption(a)});return i.jsx("span",{className:p,children:t})}c=a;f.handleLinkClick=j;f.elementStyle=k;f.interactionElementClassName=l;f.make=c}),null);
__d("MessengerButtonReact.re",["MessengerButtonReact.bs","react"],(function(a,b,c,d,e,f){var g,h=g||b("react"),i={primary:0,secondary:1,faded:2},j={"default":0,danger:1};a=function(a){a={type:i[a.type],ariaHidden:a.ariaHidden,ariaLabel:a.ariaLabel,className:a.className,color:a.color,customColor:a.customColor,dataTestID:a.dataTestID,disabled:a.disabled,href:a.href,label:a.label,onClick:a.onClick,role:a.role,tabIndex:a.tabIndex,target:a.target,use:a.use==null?void 0:j[a.use],wrapperClassName:a.wrapperClassName};a=h.createElement(b("MessengerButtonReact.bs").make,a);return a};f.make=a}),null);/*FB_PKG_DELIM*/
__d("MessengerSecondarySearchFunnelConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",WWW:"www"});b=Object.freeze({ABANDON:"abandon",CREATE_GROUP:"create_group",ENTER_THREAD:"enter_thread",RESULT_SELECTED:"result_selected",SEND:"send",SINGLE_RESULT_SELECTED:"single_result_selected"});c=Object.freeze({ACTION:"action"});d=Object.freeze({EXISTING_TAB:"existing_tab",JEWEL:"jewel",SIDEBAR:"sidebar",COMPOSER:"composer"});f=Object.freeze({END:"end",IMPRESSIONS:"impressions",MICRO_SESSION_ENDED:"micro_session_ended",MICRO_SESSION_STARTED:"micro_session_started",QUERY_CHANGED:"query_changed",RESULT_SELECTED:"result_selected",REENTER_OMNIPICKER:"reentered_omnipicker",SOURCE_ENDED:"source_ended",SOURCE_STARTED:"source_started",START:"start",TOKEN_REMOVED:"token_removed",CLICK_OTHER_THREAD:"clicked_on_other_thread"});var g=Object.freeze({BROADCAST:"broadcast",GROUP_CREATION:"group_creation",OMNIPICKER:"omnipicker",SHARE:"share"}),h=Object.freeze({DIRECT_SEND:"direct_send",ADD:"add"}),i=Object.freeze({FINISHED:"finished",FAILED:"failed"}),j=Object.freeze({BROADCAST:9500,GROUP_CREATE:9501,M_APP_COMPOSER:9502}),k=Object.freeze({QUERY:"query",NO_QUERY:"no_query"}),l=Object.freeze({BOOTSTRAP:"bootstrap",LOCAL:"local",LOCAL_AND_SERVER:"local_and_server",LOCAL_CONTACTS:"local_contacts",ORDERED_GCF_FRIENDLIST:"local_ordered_gcf_friendlist",QUERY_CACHE:"query_cache",SERVER:"server",SHORT_PROFILES:"local_short_profiles",SUGGESTED_RECIPIENTS:"local_suggested_recipients"});e.exports={FUNNEL_NAME:"MESSENGER_SECONDARY_SEARCH_FUNNEL",CLIENTS:a,END_ACTIONS:b,END_REASONS:c,ENTRY_SURFACES:d,EVENTS:f,SEARCH_SURFACES:g,SELECTION_TYPES:h,SOURCE_STATUSES:i,LOGGING_IDS:j,MICRO_SESSION_TYPES:k,SOURCES:l}}),null);/*FB_PKG_DELIM*/
__d("PromiseUtil",["Promise","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){function a(a){var c=b("Promise").all(a);return b("Promise").all(a.map(function(a){return b("Promise").resolve(a).then(void 0,function(a){return void 0})})).then(function(){return c})}function d(a){var c=[];return a.reduce(function(a,b){return a.then(b).then(function(){return void 0},function(a){c.push(a);return void 0})},b("Promise").resolve()).then(function(){if(c.length)throw c[0]})}function e(a,b,c){b===void 0&&(b=Math.sqrt(2));c===void 0&&(c=1);var d=c;c=function(){var a=d;d*=b;return a};return l(a,c)}function f(a,c){return a.then(function(a){return b("Promise").resolve(c(a)).then(function(){return a})})}function h(a,c){return a.then(void 0,function(a){return b("Promise").resolve(c(a)).then(function(){throw a})})}function i(a,c){var d=function d(e){return c(e)?b("Promise").resolve(e):b("Promise").resolve(a(e)).then(d)};return d}function j(a,d){var e,f=new(b("Promise"))(function(b,c){var f=function(){try{var d=a();d&&b(d.value)}catch(a){c(a)}};e=setInterval(f,1e3*d)});return f["finally"](function(){return clearInterval(c("nullthrows")(e))})}function k(a,b){b===void 0&&(b=1);return j(function(){var b=a();return b?{value:b}:void 0},b)}function l(a,b){var c=[],d=void 0,e=0;return function(){var f=b();for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];c=h;d||(d=q(e+f-Date.now()/1e3).then(function(){e=Date.now()/1e3;d=void 0;return a.apply(void 0,c)}));return d}}function m(a,b){var d=!1,e=void 0;return function(){d||(c("promiseDone")(q(b()),function(){return d=!1}),e=a.apply(void 0,arguments),d=!0);return e}}function n(a,c){var d=function d(){return b("Promise").resolve(a()).then(function(a){return c(a)?b("Promise").resolve(a):d()})};return d}function o(a,c,d){var e=function e(){return b("Promise").resolve(a()).then(function(a){c(a);return b("Promise").resolve(a)},function(a){return d(a)?e():b("Promise").reject(a)})};return e}function p(a,c){c=c;return a.reduce(function(a,b){return a.then(b)},b("Promise").resolve(c))}function q(a){return 0<a?new(b("Promise"))(function(b,c){return setTimeout(b,1e3*a)}):b("Promise").resolve()}function r(a,b){return s(a,b,function(){throw new Error("Promise timed out")})}function s(a,c,d){var e=!1;return b("Promise").race([a.then(function(a){e=!0;return a},function(a){e=!0;throw a}),q(c).then(function(){return e?void 0:d()})])}g.allSettled=a;g.allSettledInSeries=d;g.exponentialBackoff=e;g.forEach=f;g.forEachError=h;g.iterateUntil=i;g.pollUntilImpl=j;g.pollUntil=k;g.rateLimit=l;g.rateLimitWithLastResult=m;g.repeatUntil=n;g.repeatWhileErrorUntil=o;g.series=p;g.wait=q;g.waitAtMost=r;g.waitOrElse=s}),98);/*FB_PKG_DELIM*/
__d("XUICardHeaderTitle.react",["cx","TabBarItem.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.props.itemComponent,b=null;this.props.count&&this.props.count>0&&(b=i.jsx("span",{className:"_c1b",children:this.props.count}));var d=this.props.children,e;if(a===c("TabBarItem.react")&&!b){var f=typeof d==="string"?d:i.isValidElement(d)&&d&&d.props.children&&d.props.children.textContent;f&&(d=i.jsx("div",{className:"_9hb",children:d}),e=i.jsx("div",{className:"_9hc","aria-hidden":!0,children:f}))}return i.jsxs(a,babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_38my"),children:[d,e,b,i.jsx("span",{className:"_c1c"})]}))};return b}(i.Component);a.defaultProps={itemComponent:c("TabBarItem.react")};g["default"]=a}),98);
__d("XUIDialogHeaderTitle.react",["XUICardHeaderTitle.react"],(function(a,b,c,d,e,f,g){g["default"]=c("XUICardHeaderTitle.react")}),98);
__d("XUICardHeader.react",["cx","invariant","TabBar.react","XUICardHeaderTitle.react","XUICardSection.react","XUIDialogHeaderTitle.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.$1=function(){var a=0;j.Children.forEach(this.props.children,function(b){b&&(b.type===c("XUICardHeaderTitle.react")||b.type===c("XUIDialogHeaderTitle.react")||i(0,1264),a++)});return a};d.$2=function(){this.props.type==="primary"&&(this.props.itemCount==null||i(0,1265));return this.props.itemCount!=null?j.jsx("span",{className:"_5dw7",children:this.props.itemCount}):null};d.$3=function(){return this.props.link?j.jsx("span",{className:"_5dw8",children:this.props.link}):null};d.$4=function(){var a=this.$1();if(a===1)return j.Children.map(this.props.children,function(a){return a&&j.cloneElement(a,{itemComponent:"span"})});else return j.jsx(c("TabBar.react"),{activeTabKey:this.props.activeTabKey,className:"_1ng1",defaultActiveTabKey:this.props.defaultActiveTabKey,minTabsVisible:this.props.minTabsVisible,onTabClick:this.props.onTabClick,shouldCalculateVisibleTabs:this.props.shouldCalculateVisibleTabs,children:this.props.children})};d.render=function(){var a=(this.props.type==="primary"?"_5dw9":"")+" _5dwa"+(this.props.type==="secondary"?" _5dwb":"")+(this.$1()!==1?" _3s3z":"");return j.jsxs(c("XUICardSection.react"),{className:c("joinClasses")(this.props.className,a),children:[this.$4(),this.$2(),this.$3(),j.jsx("div",{className:"_3s3-"})]})};return b}(j.Component);a.defaultProps={minTabsVisible:0,onTabClick:function(){return!0},type:"secondary"};g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MessengerScrollableArea.react",["cx","ReactDOM","ScrollableArea.react","Style","UserAgent","clearImmediate","gkx","joinClasses","react","setImmediate","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=20,k=c("gkx")("1094116");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$1=!1;e.$2=null;e.$5=function(){if(e.$1){var a;e.props.onScroll&&(a=e.props).onScroll.apply(a,arguments)}};e.$6=function(){if(!c("UserAgent").isBrowser("IE"))return;if(k)return;if(!e.refs||!e.$4.current)return;var a=e.$4.current.refs.wrap,b=e.$4.current.refs.body;if(!b||!a)return;b=d("ReactDOM").findDOMNode(b);a=d("ReactDOM").findDOMNode(a);a=a.offsetWidth-a.clientWidth;a>0&&c("Style").set(b,"margin-right",-a+"px")};e.$3=c("throttle")(e.$5,50);e.$4=i.createRef();return e}var e=b.prototype;e.componentDidMount=function(){this.$2=c("setImmediate")(this.$6),this.$1=!0};e.componentWillUnmount=function(){c("clearImmediate")(this.$2),this.$1=!1};e.render=function(){var a=this.props.needsFastScrollHandler?this.$5:this.$3;return i.jsx(c("ScrollableArea.react"),{className:c("joinClasses")("_5f0v",this.props.className),height:this.props.height,onClick:this.props.onClick,onScroll:a,persistent:!0,ref:this.$4,shadow:!1,tabIndex:this.props.tabIndex,width:this.props.width,children:this.props.children})};e.getArea=function(){if(this.$4.current)return this.$4.current.getArea()};e.scrollToBottom=function(a){var b=this.getArea();b&&this.scrollToPosition(b.getScrollHeight(),!!a)};e.scrollToTop=function(a){var b=this.getArea();b&&b.scrollToTop(!!a)};e.scrollToPosition=function(a,b,c){b===void 0&&(b=!1);c===void 0&&(c={});var d=this.getArea();if(!d)return;d.setScrollTop(a,b,c)};e.isScrolledToBottom=function(){return this.isScrolledToBottomWithHeight(0)};e.isScrolledToBottomWithHeight=function(a){var b=this.getArea();return!b?!1:b.getScrollTop()+b.getClientHeight()+a>=b.getScrollHeight()-j};e.isScrolledToTop=function(){var a=this.getArea();return!a?!0:a.getScrollTop()<=j};e.getScrollTop=function(){var a=this.getArea();return!a?0:a.getScrollTop()};return b}(i.Component);g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("sdk.UA",[],(function(a,b,c,d,e,f){a=navigator.userAgent;var g={iphone:/\b(iPhone|iP[ao]d)/.test(a),ipad:/\b(iP[ao]d)/.test(a),android:/Android/i.test(a),nativeApp:/FBAN\/\w+;/i.test(a)&&!/FBAN\/mLite;/.test(a),nativeAndroidApp:/FB_IAB\/\w+;/i.test(a),nativeInstagramApp:/Instagram/i.test(a),nativeMessengeriOSApp:/MessengerForiOS/i.test(a),nativeMessengerAndroidApp:/Orca\-Android/i.test(a),ucBrowser:/UCBrowser/i.test(a)},h=/Mobile/i.test(a),i={ie:NaN,firefox:NaN,chrome:NaN,webkit:NaN,osx:NaN,edge:NaN,operaMini:NaN,ucWeb:NaN};b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a);if(b){i.ie=b[1]?parseFloat(b[1]):b[4]?parseFloat(b[4]):NaN;i.firefox=b[2]||"";i.webkit=b[3]||"";if(b[3]){c=/(?:Chrome\/(\d+\.\d+))/.exec(a);i.chrome=c?c[1]:"";d=/(?:Edge\/(\d+\.\d+))/.exec(a);i.edge=d?d[1]:""}}e=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a);e&&(i.osx=e[1]);b=/(?:Opera Mini\/(\d+(?:\.\d+)?))/.exec(a);b&&(i.operaMini=b[1]);c=/(?:UCWEB\/(\d+(?:\.\d+))?)/.exec(a);c&&(i.ucWeb=c[1]||"2.0");function j(a){return String(a).split(".").map(function(a){return parseFloat(a)})}var k={};Object.keys(i).map(function(a){var b=function(){return parseFloat(i[a])};b.getVersionParts=function(){return j(i[a])};k[a]=b});Object.keys(g).map(function(a){k[a]=function(){return g[a]}});k.mobile=function(){return g.iphone||g.ipad||g.android||h};k.mTouch=function(){return g.android||g.iphone||g.ipad};k.facebookInAppBrowser=function(){return g.nativeApp||g.nativeAndroidApp};k.inAppBrowser=function(){return g.nativeApp||g.nativeAndroidApp||g.nativeInstagramApp};k.mBasic=function(){return!!(i.ucWeb||i.operaMini)};k.instagram=function(){return g.nativeInstagramApp};k.messenger=function(){return g.nativeMessengeriOSApp||g.nativeMessengerAndroidApp};k.isSupportedIABVersion=function(a){if(!k.facebookInAppBrowser())return!1;var b=/(?:FBAV\/(\d+(\.\d+)+))/.exec(navigator.userAgent);if(b){b=parseFloat(b[1]);if(b>=a)return!0}return!1};d=k;f["default"]=d}),66);/*FB_PKG_DELIM*/
__d("AbstractTextArea.react",["cx","AbstractTextField.react","TextAreaControl","mergeRefs","prop-types","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=d("react").Component;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(a){d.$1=a,d.$6(),c("mergeRefs")(d.props.textareaRef)(a)},d.$7=function(){d.$2&&d.$2.onupdate()},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.componentDidUpdate=function(){this.$4()};d.componentWillUnmount=function(){window.cancelAnimationFrame(this.$3),this.$3=null,this.$2=null};d.render=function(){var a=this.props;a.autoGrow;a.textareaRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoGrow","textareaRef"]);return i.jsx(c("AbstractTextField.react"),babelHelpers["extends"]({},a,{children:i.jsx("textarea",{className:"_58an",onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste,rows:this.props.rows,tabIndex:this.props.tabIndex,ref:this.$5})}))};d.$4=function(){this.$1&&this.$1.offsetParent!=null?this.$7():(window.cancelAnimationFrame(this.$3),this.$3=window.requestAnimationFrame(this.$7))};d.$6=function(){if(this.$1&&this.props.autoGrow&&!this.$2){var a=new(c("TextAreaControl"))(this.$1);a.setAutogrow(!0);this.$4();this.$2=a}};d.focusInput=function(){this.$1&&this.$1.focus()};d.blurInput=function(){this.$1&&this.$1.blur()};d.getTextFieldDOM=function(){return this.$1};d.getValue=function(){return this.$1?this.$1.value:""};return b}(a);b.propTypes=babelHelpers["extends"]({},c("AbstractTextField.react").propTypes,{autoGrow:c("prop-types").bool});g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("MessengerAttributionTagsStore",["MessengerActions","MessengerStore"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.$MessengerAttributionTagsStore1={messagingTags:null,threadID:null};return b}var c=b.prototype;c.getState=function(){return this.$MessengerAttributionTagsStore1};c.__onDispatch=function(a){switch(a.type){case d("MessengerActions").Types.UPDATE_THREAD_TAG:this.$MessengerAttributionTagsStore1.messagingTags=a.messagingTags;this.$MessengerAttributionTagsStore1.threadID=a.threadID;this.emitChange();break;case d("MessengerActions").Types.SELECT_THREAD:this.$MessengerAttributionTagsStore1.messagingTags=null;this.$MessengerAttributionTagsStore1.threadID=null;this.emitChange();break}};return b}(c("MessengerStore"));b=new a();g["default"]=b}),98);
__d("MNPlatformTagsDataManager",["MNPlatformAttributionTags","MessengerActions","MessengerAttributionTagsStore","MessengerDiscoveryEntryPointsLoggingHelper"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a===void 0&&(a=null);var b=null,c=null;switch(a){case"source:pages:message_shortlink":b=d("MNPlatformAttributionTags").M_DOT_ME;c=d("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["mdotme"]);break;case"source:messenger:web":b=d("MNPlatformAttributionTags").MESSENGER_WEB;break;case"source:messenger:web_search":b=d("MNPlatformAttributionTags").MESSENGER_WEB_SEARCH;c=d("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["messengerdotcom:web_search"]);break;case"source:discovery:customer_chat_plugin":b=d("MNPlatformAttributionTags").CUSTOMER_CHAT_PLUGIN;break;case"source:pages:page_plugin_message":b=d("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["messengerdotcom:pages_plugin"]);break;default:b="";break}a=[b];c!==null&&a.push(c);return a}function a(a,b){a===void 0&&(a=null);b===void 0&&(b=null);a=h(a);d("MessengerActions").changeThreadTag(a,b)}function b(a){var b=c("MessengerAttributionTagsStore").getState();return!!(b.messagingTags&&a&&b.threadID&&b.threadID.toString()===a)}function e(){var a=c("MessengerAttributionTagsStore").getState();return a.messagingTags}g.getTags=h;g.updateThreadTabAfterSelectThread=a;g.hasThreadTags=b;g.getThreadTags=e}),98);/*FB_PKG_DELIM*/
__d("MessengerUniversalSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a={END:"end",IMPRESSIONS:"impressions",QUERY_CHANGED:"query_changed",REENTERED:"reentered",RESULT_SELECTED:"result_selected",SOURCE_ENDED:"source_ended",SOURCE_STARTED:"source_started",START:"start"};b={FIRST:"first",SEE_ALL:"see_all"};c={USER_CONTACT:"user_contact",USER_NON_CONTACT:"user_non_contact",GROUP:"group",PAGE:"page",GAME:"game",TINCAN:"tincan",COWORKER:"coworker",MESSAGE:"message",OTHER:"other"};d={MESSENGER_DOT_COM:"messenger_dot_com",WWW:"www"};f=Object.freeze({INBOX:"inbox",SIDEBAR:"sidebar"});var g={NULL_STATE:"null_state",TYPEAHEAD:"typeahead"},h={LOCAL:"local",SERVER:"server",SERVER_XCONTROLLER:"server_xcontroller",LOCAL_AND_SERVER:"local_and_server",SERVER_USERS_GROUPS:"server_users_groups",SERVER_PAGES:"server_pages",SERVER_ROOMS:"server_rooms"},i={FAILED:"failed",FINISHED:"finished"},j={LOCAL:"local",SERVER:"server"},k={END_ACTION:"end_action"},l=Object.freeze({ABANDON:"abandon",RESULT_SELECTED:"result_selected",MESSAGE_SEARCH:"message_search",ENTER_INTEGRATED_MESSAGE_SEARCH:"enter_integrated_message_search",SEND:"send",CALL:"call"});e.exports={NAME:"MESSENGER_UNIVERSAL_SEARCH_FUNNEL",TYPE:"UNIVERSAL",END_ACTIONS:l,END_REASONS:k,ENTRY_SURFACES:f,EVENTS:a,INTERFACES:d,QUERY_PROGRESS:i,RESULT_PAGES:b,RESULT_SURFACES:g,RESULT_TYPES:c,SOURCES:h,UI_SECTIONS:j}}),null);/*FB_PKG_DELIM*/
__d("MessengerSearchActions",["MessengerDispatcher","MessengerURISerializer","MessengerView","URI","goURI","keyMirror","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=c("keyMirror")({ENTER_UNIVERSAL_SEARCH:null,ENTER_MESSAGE_SEARCH:null,ENTER_SEE_ALL_SEARCH:null,EXIT_MESSAGE_SEARCH:null,EXIT_SEE_ALL_SEARCH:null,LOAD_MORE_RESULTS:null}),i=c("qex")._("1507")?c("MessengerView").MASTER.SEARCH_MESSAGES:c("MessengerView").MASTER.SEARCH;function a(a){q(function(b){return b.query!==a?{query:a}:null})}function j(a,b){q(function(d){if(d.queryAll!==a)switch(b){case"message":return{query:a,masterView:i};case"friend":case"non_friend":return{query:a,masterView:c("MessengerView").MASTER.SEE_ALL_PEOPLE,seeAllType:b};case"page":return{query:a,masterView:c("MessengerView").MASTER.SEE_ALL_PAGES,seeAllType:b};case"thread":return{query:a,masterView:c("MessengerView").MASTER.SEE_ALL_GROUPS,seeAllType:b}}return null})}function k(a){q(function(b){return b.queryAll!==a?{query:a,masterView:i}:null})}function b(a,b){var c={query:b,serverThreadID:a,activeThreadID:a,masterView:i};q(function(a){return c})}function e(){c("MessengerDispatcher").dispatch({type:h.LOAD_MORE_RESULTS})}function f(){c("MessengerDispatcher").dispatch({type:h.ENTER_UNIVERSAL_SEARCH}),q(function(a){return{masterView:c("MessengerView").MASTER.SEARCH}})}function l(){c("MessengerDispatcher").dispatch({type:h.ENTER_MESSAGE_SEARCH})}function m(){c("MessengerDispatcher").dispatch({type:h.ENTER_SEE_ALL_SEARCH})}function n(){k(""),c("MessengerDispatcher").dispatch({type:h.EXIT_MESSAGE_SEARCH})}function o(){j(null,null),c("MessengerDispatcher").dispatch({type:h.EXIT_SEE_ALL_SEARCH})}function p(a,b){return a.detailView==null}function q(a){var b=d("MessengerURISerializer").deserialize(new(c("URI"))(window.location.href));a=a(b);var e=p(b,a);a&&c("goURI")(d("MessengerURISerializer").serialize(Object.assign(b,a)),!1,e)}g.Types=h;g.changeQuery=a;g.changeQuerySeeAll=j;g.changeQueryAll=k;g.searchForMessagesInAThread=b;g.loadMoreResults=e;g.enterUniversalSearch=f;g.enterMessageSearch=l;g.enterSeeAllSearch=m;g.exitMessageSearch=n;g.exitSeeAllSearch=o}),98);/*FB_PKG_DELIM*/
__d("MessengerDialog.react",["cx","LayerHideOnEscape","LayerRefocusOnHide","MessengerDialogLayerShrinkOnHide","MessengerDialogs.bs","XUIDialog.react","createReactClass_DEPRECATED","joinClasses","prop-types","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=c("createReactClass_DEPRECATED")({displayName:"MessengerDialog",propTypes:{label:c("prop-types").node,onToggle:c("prop-types").func,repositionOnUpdate:c("prop-types").bool,shown:c("prop-types").bool,type:c("prop-types").oneOf(["alert","default"]),width:c("prop-types").number,removeDialogOnToggle:c("prop-types").bool,causalElement:c("prop-types").instanceOf(Element),children:c("prop-types").node,useDefaultStyling:c("prop-types").bool},getDefaultProps:function(){return{label:void 0,repositionOnUpdate:!1,shown:!0,type:"alert",width:400,removeDialogOnToggle:!0,useDefaultStyling:!0}},componentDidUpdate:function(){var a=this;this.props.repositionOnUpdate&&c("setTimeout")(function(){a.isMounted()&&a.refs.dialog&&a.refs.dialog.layer&&a.refs.dialog.layer.updatePosition()},0)},handleToggle:function(a){this.props.onToggle&&this.props.onToggle(a),!a&&this.props.removeDialogOnToggle&&d("MessengerDialogs.bs").removeDialog()},render:function(){var a=this.props,b=a.children;a=a.useDefaultStyling;return i.jsx(c("XUIDialog.react"),babelHelpers["extends"]({behaviors:{MessengerDialogLayerShrinkOnHide:c("MessengerDialogLayerShrinkOnHide"),LayerHideOnEscape:c("LayerHideOnEscape"),LayerRefocusOnHide:c("LayerRefocusOnHide")}},this.props,{onToggle:this.handleToggle,className:c("joinClasses")("_4ebx",this.props.className),ref:"dialog",causalElement:this.props.causalElement,children:a?i.jsx("div",{className:"_4eby"+(this.props.type==="alert"?" _2c9g":"")+(this.props.type==="default"?" _2c9i":""),children:b}):b}))}});b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("transferTextStyles",["Style"],(function(a,b,c,d,e,f,g){var h={fontFamily:null,fontSize:null,fontStyle:null,fontWeight:null,lineHeight:null,wordWrap:null};function a(a,b){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(h[d]=c("Style").get(a,d));c("Style").apply(b,h)}g["default"]=a}),98);
__d("TextMetrics",["DOM","Style","UserAgent","transferTextStyles"],(function(a,b,c,d,e,f,g){function h(a){var b=a.clientWidth,d=c("Style").get(a,"-moz-box-sizing")=="border-box";if(d&&c("UserAgent").isBrowser("Firefox < 29"))return b;d=c("Style").getFloat(a,"paddingLeft")+c("Style").getFloat(a,"paddingRight");return b-d}a=function(){function a(a,b){this.$1=a;this.$2=!!b;b="textarea";var d="textMetrics";this.$2&&(b="div",d+=" textMetricsInline");this.$3=c("DOM").create(b,{className:d});c("transferTextStyles")(a,this.$3);(b=document.body)==null?void 0:b.appendChild(this.$3)}var b=a.prototype;b.measure=function(a){var b=this.$1,d=this.$3;a=((a=a)!=null?a:b.value)+"...";if(!this.$2){var e=h(b);c("Style").set(d,"width",Math.max(e,0)+"px")}b.nodeName==="TEXTAREA"&&d instanceof HTMLTextAreaElement?d.value=a:c("DOM").setContent(d,a);return{width:d.scrollWidth,height:d.scrollHeight}};b.destroy=function(){c("DOM").remove(this.$3)};return a}();g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MessengerContactAdapters",["ImmutableObject","immutable"],(function(a,b,c,d,e,f,g){function a(a){var b=a.getType(),d={alias:null,isMessengerUser:null,isWorkUser:null,isVerified:null,workForeignEntityInfo:null,participants:null,photo:a.getPhoto(),subtitle:a.getSubtitle(),thread:null,title:a.getTitle(),type:b,uid:a.getUniqueID(),timestamp:null,matchRanges:null};d.photo||(d.photo=null);var e=a.getAuxiliaryData();if(e){b=="message"&&(d.uid=e.thread_id);e.timestamp&&(d.timestamp=e.timestamp);b==="message"&&e.matchRanges!=null&&(d.matchRanges=e.matchRanges);a=b==="message"&&e.messageResultType==="groupConversation";b==="thread"||a?(d.thread=new(c("ImmutableObject"))(e.thread),d.participants=c("immutable").Map().withMutations(function(a){e.participantsToRender.forEach(function(b){a.set(b.id,b)})})):(d.isMessengerUser=e.isMessengerUser,d.isWorkUser=e.isWorkUser,d.isVerified=e.isVerified,d.workForeignEntityInfo=e.workForeignEntityInfo,d.alias=e.alias)}return new(c("ImmutableObject"))(d)}function b(a){return new(c("ImmutableObject"))({alias:a.alias,uid:a.id,photo:a.image_src,title:a.name,subtitle:a.title?a.title:"",type:a.type,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified,isCoworker:a.is_coworker,href:a.href,timezone:a.timezone,workForeignEntityInfo:a.work_foreign_entity_info})}g.fromSearchableEntry=a;g.fromMercuryParticipant=b}),98);/*FB_PKG_DELIM*/
__d("Newline.react",[],(function(a,b,c,d,e,f){"use strict";a="br";f["default"]=a}),66);
__d("Text.react",[],(function(a,b,c,d,e,f){"use strict";a="span";f["default"]=a}),66);
__d("BaseTextWithEntities.react",["Newline.react","Text.react","UnicodeUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){return a.offset-b.offset||b.length-a.length}function j(a){return[].concat(a.ranges,a.aggregatedRanges,a.imageRanges,a.metaRanges,a.inlineStyleRanges,a.textDelightRanges,a.colorRanges).filter(Boolean).sort(i)}function k(a,b){a=a.split(/(\r\n|[\r\n])/);var d=[];for(var e=0;e<a.length;e++){var f=a[e];f&&d.push(h.jsx(h.Fragment,{children:e%2===1?h.jsx(c("Newline.react"),{}):b(f)},"text"+e))}return d}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=0,e=null,f=a.text,g=j(a);for(var i=0;i<g.length;i++){var l=g[i];if(l.offset<b)continue;e=e||[];l.offset>b&&e.push(h.jsx(h.Fragment,{children:k(d("UnicodeUtils").substring(f,b,l.offset),a.textRenderer)},"text"+i));e.push(h.jsx(h.Fragment,{children:a.rangeRenderer(d("UnicodeUtils").substr(f,l.offset,l.length),l)},"range"+i));b=l.offset+l.length}return h.jsxs(c("Text.react"),{className:a.className,style:a.style,children:[e,f.length>b?k(d("UnicodeUtils").substr(f,b),a.textRenderer):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);